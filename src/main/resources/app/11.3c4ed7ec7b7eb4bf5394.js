(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",function(){return M});var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),b=n("cygB"),a=n("Gyf/"),s=n("lJxs"),g=n("fXoL");function l(e,t){if(1&e&&(g.Lb(0,"ion-label"),g.lc(1),g.Kb()),2&e){var n=g.Vb(2);g.yb(1),g.oc(" ",n.durchgang,", ",n.geraetName()," ")}}function u(e,t){if(1&e&&(g.Lb(0,"ion-note",15),g.lc(1),g.Kb()),2&e){var n=g.Vb(2);g.yb(1),g.nc(" ","Riege "+n.step," ")}}function p(e,t){1&e&&g.Jb(0,"ion-icon",16)}function d(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-list"),g.Lb(1,"ion-item"),g.Lb(2,"ion-label"),g.lc(3),g.Kb(),g.Kb(),g.Lb(4,"ion-item"),g.kc(5,l,2,2,"ion-label",4),g.Kb(),g.Lb(6,"ion-item-sliding",null,6),g.Lb(8,"ion-item",7),g.Tb("click",function(){g.fc(n);var e=g.ec(7);return g.Vb().itemTapped(e)}),g.Lb(9,"ion-label"),g.lc(10),g.Kb(),g.kc(11,u,2,1,"ion-note",8),g.kc(12,p,1,0,"ion-icon",9),g.Kb(),g.Lb(13,"ion-item-options",10),g.Lb(14,"ion-item-option",11),g.Tb("click",function(){g.fc(n);var e=g.ec(7);return g.Vb().prevStep(e)}),g.Jb(15,"ion-icon",12),g.lc(16," Vorherige Riege "),g.Kb(),g.Kb(),g.Lb(17,"ion-item-options",13),g.Lb(18,"ion-item-option",11),g.Tb("click",function(){g.fc(n);var e=g.ec(7);return g.Vb().nextStep(e)}),g.Jb(19,"ion-icon",14),g.lc(20," N\xe4chste Riege "),g.Kb(),g.Kb(),g.Kb(),g.Kb()}if(2&e){var i=g.Vb();g.yb(3),g.mc(i.competitionName()),g.yb(2),g.bc("ngIf",i.durchgang&&i.geraet),g.yb(5),g.mc(i.geraet&&i.getSteps()?"Riege ("+i.getSteps()[0]+" bis "+i.getSteps()[i.getSteps().length-1]+")":"Keine Daten"),g.yb(1),g.bc("ngIf",i.geraet&&i.getSteps()&&i.getSteps().length>0),g.yb(1),g.bc("ngIf",i.geraet&&i.getSteps()),g.yb(2),g.bc("disabled",!i.geraet||!i.getSteps()),g.yb(4),g.bc("disabled",!i.geraet||!i.getSteps())}}function f(e,t){if(1&e&&(g.Lb(0,"ion-select-option",20),g.lc(1),g.Wb(2,"date"),g.Kb()),2&e){var n=t.$implicit;g.bc("value",n.uuid),g.yb(1),g.nc(" ",n.titel+" "+g.Yb(2,2,n.datum,"dd-MM-yy"),"")}}function h(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-select",18),g.Tb("ngModelChange",function(e){return g.fc(n),g.Vb(2).competition=e}),g.kc(1,f,3,5,"ion-select-option",19),g.Kb()}if(2&e){var i=g.Vb(2);g.bc("ngModel",i.competition),g.yb(1),g.bc("ngForOf",i.getCompetitions())}}function m(e,t){if(1&e&&(g.Lb(0,"ion-select-option",20),g.lc(1),g.Kb()),2&e){var n=t.$implicit;g.bc("value",n),g.yb(1),g.mc(n)}}function k(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-select",18),g.Tb("ngModelChange",function(e){return g.fc(n),g.Vb(2).durchgang=e}),g.kc(1,m,2,2,"ion-select-option",19),g.Kb()}if(2&e){var i=g.Vb(2);g.bc("ngModel",i.durchgang),g.yb(1),g.bc("ngForOf",i.getDurchgaenge())}}function v(e,t){if(1&e&&(g.Lb(0,"ion-select-option",20),g.lc(1),g.Kb()),2&e){var n=t.$implicit;g.bc("value",n.id),g.yb(1),g.mc(n.name)}}function S(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-select",18),g.Tb("ngModelChange",function(e){return g.fc(n),g.Vb(2).geraet=e}),g.kc(1,v,2,2,"ion-select-option",19),g.Kb()}if(2&e){var i=g.Vb(2);g.bc("ngModel",i.geraet),g.yb(1),g.bc("ngForOf",i.getGeraete())}}function y(e,t){if(1&e&&(g.Lb(0,"ion-note",15),g.lc(1),g.Kb()),2&e){var n=g.Vb(2);g.yb(1),g.nc(" ","Riege "+n.step," ")}}function L(e,t){1&e&&g.Jb(0,"ion-icon",16)}function K(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-list"),g.Lb(1,"ion-item"),g.Lb(2,"ion-label"),g.lc(3,"Wettkampf"),g.Kb(),g.kc(4,h,2,2,"ion-select",17),g.Kb(),g.Lb(5,"ion-item"),g.Lb(6,"ion-label"),g.lc(7,"Durchgang"),g.Kb(),g.kc(8,k,2,2,"ion-select",17),g.Kb(),g.Lb(9,"ion-item"),g.Lb(10,"ion-label"),g.lc(11,"Ger\xe4t"),g.Kb(),g.kc(12,S,2,2,"ion-select",17),g.Kb(),g.Lb(13,"ion-item-sliding",null,6),g.Lb(15,"ion-item",7),g.Tb("click",function(){g.fc(n);var e=g.ec(14);return g.Vb().itemTapped(e)}),g.Lb(16,"ion-label"),g.lc(17),g.Kb(),g.kc(18,y,2,1,"ion-note",8),g.kc(19,L,1,0,"ion-icon",9),g.Kb(),g.Lb(20,"ion-item-options",10),g.Lb(21,"ion-item-option",11),g.Tb("click",function(){g.fc(n);var e=g.ec(14);return g.Vb().prevStep(e)}),g.Jb(22,"ion-icon",12),g.lc(23," Vorherige Riege "),g.Kb(),g.Kb(),g.Lb(24,"ion-item-options",13),g.Lb(25,"ion-item-option",11),g.Tb("click",function(){g.fc(n);var e=g.ec(14);return g.Vb().nextStep(e)}),g.Jb(26,"ion-icon",14),g.lc(27," N\xe4chste Riege "),g.Kb(),g.Kb(),g.Kb(),g.Kb()}if(2&e){var i=g.Vb();g.yb(4),g.bc("ngIf",i.getCompetitions()),g.yb(4),g.bc("ngIf",i.competition&&i.getDurchgaenge()&&i.getDurchgaenge().length>0),g.yb(4),g.bc("ngIf",i.durchgang&&i.getGeraete()&&i.getGeraete().length>0),g.yb(5),g.mc(i.geraet&&i.getSteps()?"Riege ("+i.getSteps()[0]+" bis "+i.getSteps()[i.getSteps().length-1]+")":"Keine Daten"),g.yb(1),g.bc("ngIf",i.geraet&&i.getSteps()&&i.getSteps().length>0),g.yb(1),g.bc("ngIf",i.geraet&&i.getSteps()),g.yb(2),g.bc("disabled",!i.geraet||!i.getSteps()),g.yb(4),g.bc("disabled",!i.geraet||!i.getSteps())}}function I(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-button",21),g.Tb("click",function(){return g.fc(n),g.Vb().navToStation()}),g.Jb(1,"ion-icon",22),g.lc(2," Resultate "),g.Kb()}if(2&e){var i=g.Vb();g.bc("disabled",!(i.geraet&&i.getSteps()))}}function w(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-button",21),g.Tb("click",function(){return g.fc(n),g.Vb().navToStation()}),g.Jb(1,"ion-icon",23),g.lc(2," Resultate "),g.Kb()}if(2&e){var i=g.Vb();g.bc("disabled",!(i.geraet&&i.getSteps()))}}function T(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-list"),g.Lb(1,"ion-button",24),g.Tb("click",function(){return g.fc(n),g.Vb().unlock()}),g.Jb(2,"ion-icon",25),g.lc(3,"Einstellung zur\xfccksetzen "),g.Kb(),g.Kb()}}function V(e,t){if(1&e){var n=g.Mb();g.Lb(0,"ion-list"),g.Lb(1,"ion-button",26),g.Tb("click",function(){return g.fc(n),g.Vb().logout()}),g.Jb(2,"ion-icon",27),g.lc(3,"Abmelden "),g.Kb(),g.Kb()}}var C=function(){function e(e,t,n){var i=this;this.navCtrl=e,this.backendService=t,this.alertCtrl=n,this.durchgangopen=!1,this.backendService.getCompetitions(),this.backendService.durchgangStarted.pipe(Object(s.a)(function(e){return e.filter(function(e){return Object(a.c)(e.durchgang)===Object(a.c)(i.backendService.durchgang)&&e.wettkampfUUID===i.backendService.competition}).length>0})).subscribe(function(e){i.durchgangstate=e?"gestartet":"gesperrt",i.durchgangopen=e})}return e.prototype.ngOnInit=function(){this.backendService.competition&&this.backendService.getDurchgaenge(this.backendService.competition)},Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.backendService.stationFreezed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenAndActive",{get:function(){return this.durchgangopen&&this.backendService.isWebsocketConnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return this.backendService.loggedIn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"competition",{get:function(){return this.backendService.competition||""},set:function(e){this.isLocked||this.backendService.getDurchgaenge(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durchgang",{get:function(){return this.backendService.durchgang||""},set:function(e){this.isLocked||this.backendService.getGeraete(this.competition,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geraet",{get:function(){return this.backendService.geraet||-1},set:function(e){this.isLocked||this.backendService.getSteps(this.competition,this.durchgang,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.backendService.step||-1},set:function(e){this.backendService.getWertungen(this.competition,this.durchgang,this.geraet,e)},enumerable:!1,configurable:!0}),e.prototype.itemTapped=function(e){e.getOpenAmount().then(function(t){t>10||t<-10?e.close():e.open("end")})},e.prototype.nextStep=function(e){this.step=this.backendService.nextStep(),e.close()},e.prototype.prevStep=function(e){this.step=this.backendService.prevStep(),e.close()},e.prototype.getCompetitions=function(){return this.backendService.competitions},e.prototype.competitionName=function(){var e=this;if(!this.backendService.competitions)return"";var t=this.backendService.competitions.filter(function(t){return t.uuid===e.backendService.competition}).map(function(e){return e.titel+", am "+(e.datum+"T").split("T")[0].split("-").reverse().join("-")});return 1===t.length?t[0]:""},e.prototype.geraetName=function(){var e=this;if(!this.backendService.geraete)return"";var t=this.backendService.geraete.filter(function(t){return t.id===e.backendService.geraet}).map(function(e){return e.name});return 1===t.length?t[0]:""},e.prototype.getDurchgaenge=function(){return this.backendService.durchgaenge},e.prototype.getGeraete=function(){return this.backendService.geraete},e.prototype.getSteps=function(){return!this.backendService.steps&&this.backendService.geraet&&this.backendService.getSteps(this.competition,this.durchgang,this.geraet),this.backendService.steps},e.prototype.navToStation=function(){this.navCtrl.navigateForward("station")},e.prototype.unlock=function(){var e=this,t=this.competitionName()+"/"+this.durchgang+"/"+this.geraetName();this.alertCtrl.create({header:"Info",message:'Die Fixierung auf die Station "'+t+'" wird aufgehoben.<br>Du kannst dann die Station frei einstellen.',buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){e.backendService.unlock()}}]}).then(function(e){return e.present()})},e.prototype.logout=function(){var e=this;this.alertCtrl.create({header:"Achtung",subHeader:"Nach dem Abmelden k\xf6nnen keine weiteren Resultate mehr erfasst werden.",message:"F\xfcr die Erfassung weiterer Resultate wird eine Neuanmeldung erforderlich.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){e.backendService.logout()}}]}).then(function(e){return e.present()})},e.prototype.finish=function(){var e=this,t=this.geraetName()+"/Riege #"+this.step,n=this.alertCtrl.create({header:"Achtung",message:'Nach dem Abschliessen der Station "'+t+'" k\xf6nnen die erfassten Wertungen nur noch im Wettkampf-B\xfcro korrigiert werden.',buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){var t=n.then(function(e){return e.dismiss()});return e.backendService.finishStation(e.competition,e.durchgang,e.geraet,e.step).subscribe(function(n){0===n.length&&t.then(function(){e.navCtrl.pop()})}),!1}}]});n.then(function(e){return e.present()})},e.\u0275fac=function(t){return new(t||e)(g.Ib(c.N),g.Ib(b.a),g.Ib(c.b))},e.\u0275cmp=g.Cb({type:e,selectors:[["app-page-home"]],decls:18,vars:8,consts:[[3,"translucent"],["slot","start"],["slot","icon-only","name","menu"],[3,"fullscreen"],[4,"ngIf"],["size","large","expand","block","color","primary",3,"disabled","click",4,"ngIf"],["slidingStepItem",""],[3,"click"],["slot","end",4,"ngIf"],["slot","end","name","arrow-dropright",4,"ngIf"],["side","start"],["color","secondary",3,"disabled","click"],["name","arrow-dropleft-circle","ios","md-arrow-dropleft-circle"],["side","end"],["name","arrow-dropright-circle","ios","md-arrow-dropright-circle"],["slot","end"],["slot","end","name","arrow-dropright"],["placeholder","Bitte ausw\xe4hlen","okText","Okay","cancelText","Abbrechen",3,"ngModel","ngModelChange",4,"ngIf"],["placeholder","Bitte ausw\xe4hlen","okText","Okay","cancelText","Abbrechen",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","large","expand","block","color","primary",3,"disabled","click"],["slot","start","name","list"],["slot","start","name","create"],["size","large","expand","block","color","warning",3,"click"],["slot","start","name","unlock"],["size","large","expand","block","color","danger",3,"click"],["slot","start","name","log-out"]],template:function(e,t){1&e&&(g.Lb(0,"ion-header",0),g.Lb(1,"ion-toolbar"),g.Lb(2,"ion-buttons",1),g.Lb(3,"ion-menu-toggle"),g.Lb(4,"ion-button"),g.Jb(5,"ion-icon",2),g.Kb(),g.Kb(),g.Kb(),g.Lb(6,"ion-title"),g.lc(7,"Wettkampf App"),g.Kb(),g.Kb(),g.Kb(),g.Lb(8,"ion-content",3),g.kc(9,d,21,7,"ion-list",4),g.kc(10,K,28,8,"ion-list",4),g.Lb(11,"ion-list"),g.kc(12,I,3,1,"ion-button",5),g.kc(13,w,3,1,"ion-button",5),g.Kb(),g.Kb(),g.Lb(14,"ion-footer"),g.Lb(15,"ion-toolbar"),g.kc(16,T,4,0,"ion-list",4),g.kc(17,V,4,0,"ion-list",4),g.Kb(),g.Kb()),2&e&&(g.bc("translucent",!0),g.yb(8),g.bc("fullscreen",!0),g.yb(1),g.bc("ngIf",t.isLocked),g.yb(1),g.bc("ngIf",!t.isLocked),g.yb(2),g.bc("ngIf",!t.isLoggedIn),g.yb(1),g.bc("ngIf",t.isLoggedIn),g.yb(3),g.bc("ngIf",t.isLocked),g.yb(1),g.bc("ngIf",t.isLoggedIn))},directives:[c.n,c.J,c.h,c.y,c.g,c.o,c.I,c.k,i.m,c.w,c.l,c.q,c.v,c.u,c.t,c.s,c.z,c.D,c.Q,o.d,o.g,i.l,c.E],pipes:[i.e],encapsulation:2}),e}(),M=function(){function e(){}return e.\u0275mod=g.Gb({type:e}),e.\u0275inj=g.Fb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,o.a,c.K,r.i.forChild([{path:"",component:C}])]]}),e}()}}]);