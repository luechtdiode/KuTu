"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7682],{7682:(C,g,d)=>{d.r(g),d.d(g,{RegJudgeEditorPageModule:()=>v});var u=d(2200),l=d(4341),a=d(9893),c=d(8132),o=d(2615),e=d(3664),m=d(1266),h=d(5035),p=d(2350);function b(r,I){if(1&r){const i=e.RV6();e.j41(0,"ion-content")(1,"form",8,0),e.bIt("ngSubmit",function(){o.eBV(i);const n=e.sdS(2),s=e.XpG();return o.Njj(s.save(n))})("keyup.enter",function(){o.eBV(i);const n=e.sdS(2),s=e.XpG();return o.Njj(s.save(n))}),e.j41(3,"ion-list")(4,"ion-item-divider",9),e.EFF(5,"Wertungsrichter/-in"),e.k0s(),e.j41(6,"ion-item")(7,"ion-avatar",3),e.nrm(8,"img",10),e.k0s(),e.j41(9,"ion-label"),e.EFF(10,"Wertungsrichter / Wertungsrichterin"),e.k0s()(),e.j41(11,"ion-item"),e.nrm(12,"ion-avatar",3),e.j41(13,"ion-input",11),e.mxI("ngModelChange",function(n){o.eBV(i);const s=e.XpG();return e.DH7(s.registration.name,n)||(s.registration.name=n),o.Njj(n)}),e.k0s()(),e.j41(14,"ion-item"),e.nrm(15,"ion-avatar",3),e.j41(16,"ion-input",12),e.mxI("ngModelChange",function(n){o.eBV(i);const s=e.XpG();return e.DH7(s.registration.vorname,n)||(s.registration.vorname=n),o.Njj(n)}),e.k0s()(),e.j41(17,"ion-item"),e.nrm(18,"ion-avatar",3),e.j41(19,"ion-select",13),e.mxI("ngModelChange",function(n){o.eBV(i);const s=e.XpG();return e.DH7(s.registration.geschlecht,n)||(s.registration.geschlecht=n),o.Njj(n)}),e.j41(20,"ion-select-option",14),e.EFF(21,"weiblich"),e.k0s(),e.j41(22,"ion-select-option",14),e.EFF(23,"m\xe4nnlich"),e.k0s()()(),e.j41(24,"ion-item-divider",9),e.EFF(25,"Kontakt"),e.k0s(),e.j41(26,"ion-item")(27,"ion-avatar",3),e.nrm(28,"img",15),e.k0s(),e.nrm(29,"ion-input",16)(30,"ion-input",17),e.k0s(),e.j41(31,"ion-item-divider")(32,"ion-avatar",3),e.nrm(33,"img",18),e.k0s(),e.j41(34,"ion-label"),e.EFF(35,"Einteilung"),e.k0s()(),e.j41(36,"ion-item"),e.nrm(37,"ion-avatar",3),e.j41(38,"ion-label",9),e.EFF(39,"Kommentar"),e.k0s(),e.j41(40,"ion-textarea",19),e.mxI("ngModelChange",function(n){o.eBV(i);const s=e.XpG();return e.DH7(s.registration.comment,n)||(s.registration.comment=n),o.Njj(n)}),e.k0s()()(),e.j41(41,"ion-list")(42,"ion-button",20,1),e.nrm(44,"ion-icon",21),e.EFF(45,"Speichern"),e.k0s()()()()}if(2&r){const i=e.sdS(2),t=e.XpG();e.R7$(13),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.name),e.R7$(3),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.vorname),e.R7$(3),e.R50("ngModel",t.registration.geschlecht),e.R7$(),e.Y8G("value","W"),e.R7$(2),e.Y8G("value","M"),e.R7$(7),e.Y8G("readonly",!1)("disabled",!1)("ngModel",t.registration.mail),e.R7$(),e.Y8G("readonly",!1)("disabled",!1)("ngModel",t.registration.mobilephone),e.R7$(10),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.comment),e.R7$(2),e.Y8G("disabled",t.waiting||!i.valid||i.untouched)}}function f(r,I){if(1&r){const i=e.RV6();e.j41(0,"ion-button",22,2),e.bIt("click",function(){o.eBV(i);const n=e.XpG();return o.Njj(n.delete())}),e.nrm(2,"ion-icon",23),e.EFF(3,"Anmeldung l\xf6schen "),e.k0s()}if(2&r){const i=e.XpG();e.Y8G("disabled",i.waiting)}}const k=[{path:"",component:(()=>{class r{navCtrl=(0,o.WQX)(h.q9);route=(0,o.WQX)(m.nX);backendService=(0,o.WQX)(p.m);alertCtrl=(0,o.WQX)(a.hG);zone=(0,o.WQX)(e.SKi);constructor(){}waiting=!1;registration;wettkampf;regId;judgeId;wkId;wkPgms;wettkampfId;_selectedClubJudgeId;ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(i=>{const t=i.find(n=>n.uuid===this.wkId);this.wettkampfId=parseInt(t.id),this.backendService.loadProgramsForCompetition(t.uuid).subscribe(n=>{this.wkPgms=n,this.judgeId?this.backendService.loadJudgeRegistrations(this.wkId,this.regId).subscribe(s=>{this.updateUI(s.find(R=>R.id===this.judgeId))}):this.updateUI({id:0,vereinregistrationId:this.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})}editable(){return this.backendService.loggedIn}updateUI(i){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=i})}save(i){if(!i.valid)return;const t=Object.assign({},this.registration,i.value);console.log(t),0===this.judgeId||0===t.id?this.backendService.createJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteJudgeRegistration(this.wkId,this.regId,this.registration).subscribe(()=>{this.navCtrl.pop()})}}]}).then(t=>t.present())}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-reg-judge-editor"]],standalone:!1,decls:14,vars:3,consts:[["judgeRegistrationForm","ngForm"],["btnSaveNext",""],["btnDelete",""],["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],["size","large","expand","block","color","danger",3,"disabled"],[3,"ngSubmit","keyup.enter"],["color","primary"],["src","assets/imgs/chief.png"],["label","Name","required","","placeholder","Name","type","text","name","name","required","",3,"ngModelChange","disabled","ngModel"],["label","Vorname","required","","placeholder","Vorname","type","text","name","vorname","required","",3,"ngModelChange","disabled","ngModel"],["label","Geschlecht","required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"ngModelChange","ngModel"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"ngModelChange","disabled","ngModel"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["slot","start","name",""],["size","large","expand","block","color","danger",3,"click","disabled"],["slot","start","name","trash"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Wertungsrichter-Anmeldung"),e.k0s(),e.j41(6,"ion-note",5)(7,"div",6),e.EFF(8),e.k0s()()()(),e.nVh(9,b,46,16,"ion-content"),e.j41(10,"ion-footer")(11,"ion-toolbar")(12,"ion-list"),e.nVh(13,f,4,1,"ion-button",7),e.k0s()()()),2&t&&(e.R7$(8),e.SpI("f\xfcr ",n.wettkampf),e.R7$(),e.vxM(n.registration?9:-1),e.R7$(4),e.vxM(n.judgeId>0?13:-1))},dependencies:[l.qT,l.BC,l.cb,l.YS,l.R_,l.vS,l.cV,a.mC,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.$w,a.uz,a.Dg,a.he,a.nf,a.JI,a.Nm,a.Ip,a.nc,a.BC,a.ai,a.Je,a.Gw,a.el],encapsulation:2})}return r})()}];let j=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=o.G2t({imports:[c.iI.forChild(k),c.iI]})}return r})(),v=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=o.G2t({imports:[u.MD,l.YN,a.bv,j]})}return r})()}}]);