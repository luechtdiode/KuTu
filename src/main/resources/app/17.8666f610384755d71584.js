(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{LS8g:function(e,n,t){"use strict";t.r(n),t.d(n,"RegJudgeEditorPageModule",function(){return g});var i=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),b=t("cygB"),c=t("fXoL");function d(e,n){if(1&e){var t=c.Mb();c.Lb(0,"ion-content"),c.Lb(1,"form",6,7),c.Tb("ngSubmit",function(){c.fc(t);var e=c.ec(2);return c.Vb().save(e.value)})("keyup.enter",function(){c.fc(t);var e=c.ec(2);return c.Vb().save(e.value)}),c.Lb(3,"ion-list"),c.Lb(4,"ion-item-divider",8),c.lc(5,"Wertungsrichter/-in"),c.Kb(),c.Lb(6,"ion-item"),c.Lb(7,"ion-avatar",0),c.Jb(8,"img",9),c.Kb(),c.Lb(9,"ion-input",10),c.Tb("ngModelChange",function(e){return c.fc(t),c.Vb().registration.name=e}),c.Kb(),c.Lb(10,"ion-input",11),c.Tb("ngModelChange",function(e){return c.fc(t),c.Vb().registration.vorname=e}),c.Kb(),c.Kb(),c.Lb(11,"ion-item"),c.Lb(12,"ion-avatar",0),c.lc(13," \xa0 "),c.Kb(),c.Lb(14,"ion-label",8),c.lc(15,"Geschlecht"),c.Kb(),c.Lb(16,"ion-select",12),c.Tb("ngModelChange",function(e){return c.fc(t),c.Vb().registration.geschlecht=e}),c.Lb(17,"ion-select-option",13),c.lc(18,"weiblich"),c.Kb(),c.Lb(19,"ion-select-option",13),c.lc(20,"m\xe4nnlich"),c.Kb(),c.Kb(),c.Kb(),c.Lb(21,"ion-item-divider",8),c.lc(22,"Kontakt"),c.Kb(),c.Lb(23,"ion-item"),c.Lb(24,"ion-avatar",0),c.Jb(25,"img",14),c.Kb(),c.Jb(26,"ion-input",15),c.Jb(27,"ion-input",16),c.Kb(),c.Lb(28,"ion-item-divider"),c.Lb(29,"ion-avatar",0),c.Jb(30,"img",17),c.Kb(),c.Lb(31,"ion-label"),c.lc(32,"Einteilung"),c.Kb(),c.Kb(),c.Lb(33,"ion-item"),c.Lb(34,"ion-avatar",0),c.lc(35," \xa0 "),c.Kb(),c.Lb(36,"ion-label",8),c.lc(37,"Kommentar"),c.Kb(),c.Lb(38,"ion-textarea",18),c.Tb("ngModelChange",function(e){return c.fc(t),c.Vb().registration.comment=e}),c.Kb(),c.Kb(),c.Kb(),c.Lb(39,"ion-list"),c.Lb(40,"ion-button",19,20),c.Jb(42,"ion-icon",21),c.lc(43,"Speichern"),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&e){var i=c.ec(2),o=c.Vb();c.yb(9),c.bc("disabled",!1)("ngModel",o.registration.name),c.yb(1),c.bc("disabled",!1)("ngModel",o.registration.vorname),c.yb(6),c.bc("disabled",o.registration.athletId>0)("ngModel",o.registration.geschlecht),c.yb(1),c.bc("value","W"),c.yb(2),c.bc("value","M"),c.yb(7),c.bc("readonly",!1)("disabled",!1)("ngModel",o.registration.mail),c.yb(1),c.bc("readonly",!1)("disabled",!1)("ngModel",o.registration.mobilephone),c.yb(11),c.bc("disabled",!1)("ngModel",o.registration.comment),c.yb(2),c.bc("disabled",o.waiting||!i.valid||i.untouched)}}function s(e,n){if(1&e){var t=c.Mb();c.Lb(0,"ion-button",22,23),c.Tb("click",function(){return c.fc(t),c.Vb().delete()}),c.Jb(2,"ion-icon",24),c.lc(3,"Anmeldung l\xf6schen"),c.Kb()}if(2&e){var i=c.Vb();c.bc("disabled",i.waiting)}}var l=[{path:"",component:function(){function e(e,n,t,i,o){this.navCtrl=e,this.route=n,this.backendService=t,this.alertCtrl=i,this.zone=o,this.waiting=!1}return e.prototype.ngOnInit=function(){var e=this;this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(function(n){var t=n.find(function(n){return n.uuid===e.wkId});e.wettkampfId=parseInt(t.id),e.backendService.loadProgramsForCompetition(t.uuid).subscribe(function(n){e.wkPgms=n,e.judgeId?e.backendService.loadJudgeRegistrations(e.wkId,e.regId).subscribe(function(n){e.updateUI(n.find(function(n){return n.id===e.judgeId}))}):e.updateUI({id:0,vereinregistrationId:e.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})},e.prototype.editable=function(){return this.backendService.loggedIn},e.prototype.updateUI=function(e){var n=this;this.zone.run(function(){n.waiting=!1,n.wettkampf=n.backendService.competitionName,n.registration=e})},e.prototype.save=function(e){var n=this,t=Object.assign({},this.registration,e);console.log(t),0===this.judgeId||0===t.id?this.backendService.createJudgeRegistration(this.wkId,this.regId,t).subscribe(function(){n.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,t).subscribe(function(){n.navCtrl.pop()})},e.prototype.delete=function(){var e=this;this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){e.backendService.deleteJudgeRegistration(e.wkId,e.regId,e.registration).subscribe(function(){e.navCtrl.pop()})}}]}).then(function(e){return e.present()})},e.\u0275fac=function(n){return new(n||e)(c.Ib(r.N),c.Ib(a.a),c.Ib(b.a),c.Ib(r.b),c.Ib(c.A))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-reg-judge-editor"]],decls:14,vars:3,consts:[["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],[4,"ngIf"],["size","large","expand","block","color","danger",3,"disabled","click",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["judgeRegistrationForm","ngForm"],["color","primary"],["src","assets/imgs/chief.png"],["required","","placeholder","Name","type","text","name","name","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Vorname","type","text","name","vorname","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"disabled","ngModel","ngModelChange"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"disabled","ngModel","ngModelChange"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["btnSaveNext",""],["slot","start","name",""],["size","large","expand","block","color","danger",3,"disabled","click"],["btnDelete",""],["slot","start","name","trash"]],template:function(e,n){1&e&&(c.Lb(0,"ion-header"),c.Lb(1,"ion-toolbar"),c.Lb(2,"ion-buttons",0),c.Jb(3,"ion-back-button",1),c.Kb(),c.Lb(4,"ion-title"),c.lc(5,"Wertungsrichter-Anmeldung"),c.Kb(),c.Lb(6,"ion-note",2),c.Lb(7,"div",3),c.lc(8),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.kc(9,d,44,17,"ion-content",4),c.Lb(10,"ion-footer"),c.Lb(11,"ion-toolbar"),c.Lb(12,"ion-list"),c.kc(13,s,4,1,"ion-button",5),c.Kb(),c.Kb(),c.Kb()),2&e&&(c.yb(8),c.nc("f\xfcr ",n.wettkampf,""),c.yb(1),c.bc("ngIf",n.registration),c.yb(4),c.bc("ngIf",n.judgeId>0))},directives:[r.n,r.J,r.h,r.e,r.f,r.I,r.z,i.m,r.l,r.w,r.k,o.j,o.e,o.f,r.r,r.q,r.d,r.p,r.R,o.i,o.d,o.g,r.v,r.D,r.Q,r.E,o.h,r.H,r.g,r.o],styles:[""]}),e}()}],u=function(){function e(){}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(n){return new(n||e)},imports:[[a.i.forChild(l)],a.i]}),e}(),g=function(){function e(){}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(n){return new(n||e)},imports:[[i.c,o.a,r.K,u]]}),e}()}}]);