"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4247],{4247:(J,c,s)=>{s.r(c),s.d(c,{RegJudgeEditorPageModule:()=>Z});var u=s(6814),d=s(95),o=s(3582),g=s(335),e=s(2029),h=s(4414),m=s(9253);function p(a,v){if(1&a){const n=e.EpF();e.TgZ(0,"ion-content")(1,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(n);const i=e.MAs(2),r=e.oxw();return e.KtG(r.save(i))})("keyup.enter",function(){e.CHM(n);const i=e.MAs(2),r=e.oxw();return e.KtG(r.save(i))}),e.TgZ(3,"ion-list")(4,"ion-item-divider",8),e._uU(5,"Wertungsrichter/-in"),e.qZA(),e.TgZ(6,"ion-item")(7,"ion-avatar",0),e._UZ(8,"img",9),e.qZA(),e.TgZ(9,"ion-input",10),e.NdJ("ngModelChange",function(i){e.CHM(n);const r=e.oxw();return e.KtG(r.registration.name=i)}),e.qZA(),e.TgZ(10,"ion-input",11),e.NdJ("ngModelChange",function(i){e.CHM(n);const r=e.oxw();return e.KtG(r.registration.vorname=i)}),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-avatar",0),e._uU(13," \xa0 "),e.qZA(),e.TgZ(14,"ion-label",8),e._uU(15,"Geschlecht"),e.qZA(),e.TgZ(16,"ion-select",12),e.NdJ("ngModelChange",function(i){e.CHM(n);const r=e.oxw();return e.KtG(r.registration.geschlecht=i)}),e.TgZ(17,"ion-select-option",13),e._uU(18,"weiblich"),e.qZA(),e.TgZ(19,"ion-select-option",13),e._uU(20,"m\xe4nnlich"),e.qZA()()(),e.TgZ(21,"ion-item-divider",8),e._uU(22,"Kontakt"),e.qZA(),e.TgZ(23,"ion-item")(24,"ion-avatar",0),e._UZ(25,"img",14),e.qZA(),e._UZ(26,"ion-input",15)(27,"ion-input",16),e.qZA(),e.TgZ(28,"ion-item-divider")(29,"ion-avatar",0),e._UZ(30,"img",17),e.qZA(),e.TgZ(31,"ion-label"),e._uU(32,"Einteilung"),e.qZA()(),e.TgZ(33,"ion-item")(34,"ion-avatar",0),e._uU(35," \xa0 "),e.qZA(),e.TgZ(36,"ion-label",8),e._uU(37,"Kommentar"),e.qZA(),e.TgZ(38,"ion-textarea",18),e.NdJ("ngModelChange",function(i){e.CHM(n);const r=e.oxw();return e.KtG(r.registration.comment=i)}),e.qZA()()(),e.TgZ(39,"ion-list")(40,"ion-button",19,20),e._UZ(42,"ion-icon",21),e._uU(43,"Speichern"),e.qZA()()()()}if(2&a){const n=e.MAs(2),t=e.oxw();e.xp6(9),e.Q6J("disabled",!1)("ngModel",t.registration.name),e.xp6(1),e.Q6J("disabled",!1)("ngModel",t.registration.vorname),e.xp6(6),e.Q6J("ngModel",t.registration.geschlecht),e.xp6(1),e.Q6J("value","W"),e.xp6(2),e.Q6J("value","M"),e.xp6(7),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.registration.mail),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.registration.mobilephone),e.xp6(11),e.Q6J("disabled",!1)("ngModel",t.registration.comment),e.xp6(2),e.Q6J("disabled",t.waiting||!n.valid||n.untouched)}}function _(a,v){if(1&a){const n=e.EpF();e.TgZ(0,"ion-button",22,23),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.delete())}),e._UZ(2,"ion-icon",24),e._uU(3,"Anmeldung l\xf6schen"),e.qZA()}if(2&a){const n=e.oxw();e.Q6J("disabled",n.waiting)}}const b=[{path:"",component:(()=>{class a{constructor(n,t,i,r,l){this.navCtrl=n,this.route=t,this.backendService=i,this.alertCtrl=r,this.zone=l,this.waiting=!1}ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(n=>{const t=n.find(i=>i.uuid===this.wkId);this.wettkampfId=parseInt(t.id),this.backendService.loadProgramsForCompetition(t.uuid).subscribe(i=>{this.wkPgms=i,this.judgeId?this.backendService.loadJudgeRegistrations(this.wkId,this.regId).subscribe(r=>{this.updateUI(r.find(l=>l.id===this.judgeId))}):this.updateUI({id:0,vereinregistrationId:this.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})}editable(){return this.backendService.loggedIn}updateUI(n){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=n})}save(n){if(!n.valid)return;const t=Object.assign({},this.registration,n.value);console.log(t),0===this.judgeId||0===t.id?this.backendService.createJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteJudgeRegistration(this.wkId,this.regId,this.registration).subscribe(()=>{this.navCtrl.pop()})}}]}).then(t=>t.present())}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(h.SH),e.Y36(g.gz),e.Y36(m.v),e.Y36(h.Br),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-reg-judge-editor"]],decls:14,vars:3,consts:[["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],[4,"ngIf"],["size","large","expand","block","color","danger",3,"disabled","click",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["judgeRegistrationForm","ngForm"],["color","primary"],["src","assets/imgs/chief.png"],["required","","placeholder","Name","type","text","name","name","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Vorname","type","text","name","vorname","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"ngModel","ngModelChange"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"disabled","ngModel","ngModelChange"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["btnSaveNext",""],["slot","start","name",""],["size","large","expand","block","color","danger",3,"disabled","click"],["btnDelete",""],["slot","start","name","trash"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Wertungsrichter-Anmeldung"),e.qZA(),e.TgZ(6,"ion-note",2)(7,"div",3),e._uU(8),e.qZA()()()(),e.YNc(9,p,44,16,"ion-content",4),e.TgZ(10,"ion-footer")(11,"ion-toolbar")(12,"ion-list"),e.YNc(13,_,4,1,"ion-button",5),e.qZA()()()),2&t&&(e.xp6(8),e.hij("f\xfcr ",i.wettkampf,""),e.xp6(1),e.Q6J("ngIf",i.registration),e.xp6(4),e.Q6J("ngIf",i.judgeId>0))},dependencies:[u.O5,d._Y,d.JJ,d.JL,d.Q7,d.c5,d.On,d.F,o.BJ,o.YG,o.Sm,o.W2,o.fr,o.Gu,o.gu,o.pK,o.Ie,o.rH,o.Q$,o.q_,o.uN,o.t9,o.n0,o.g2,o.wd,o.sr,o.QI,o.j9,o.oU]})}return a})()}];let f=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(b),g.Bz]})}return a})(),Z=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[u.ez,d.u5,o.Pc,f]})}return a})()}}]);