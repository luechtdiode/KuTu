"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7682],{7682:(_,c,s)=>{s.r(c),s.d(c,{RegJudgeEditorPageModule:()=>j});var u=s(177),d=s(4341),a=s(4742),l=s(305),e=s(4438),m=s(2872),h=s(2350);function p(o,I){if(1&o){const i=e.RV6();e.j41(0,"ion-content")(1,"form",9,0),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.sdS(2),r=e.XpG();return e.Njj(r.save(n))})("keyup.enter",function(){e.eBV(i);const n=e.sdS(2),r=e.XpG();return e.Njj(r.save(n))}),e.j41(3,"ion-list")(4,"ion-item-divider",10),e.EFF(5,"Wertungsrichter/-in"),e.k0s(),e.j41(6,"ion-item")(7,"ion-avatar",3),e.nrm(8,"img",11),e.k0s(),e.j41(9,"ion-label"),e.EFF(10,"Wertungsrichter / Wertungsrichterin"),e.k0s()(),e.j41(11,"ion-item")(12,"ion-avatar",3),e.EFF(13," \xa0 "),e.k0s(),e.j41(14,"ion-input",12),e.mxI("ngModelChange",function(n){e.eBV(i);const r=e.XpG();return e.DH7(r.registration.name,n)||(r.registration.name=n),e.Njj(n)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-avatar",3),e.EFF(17," \xa0 "),e.k0s(),e.j41(18,"ion-input",13),e.mxI("ngModelChange",function(n){e.eBV(i);const r=e.XpG();return e.DH7(r.registration.vorname,n)||(r.registration.vorname=n),e.Njj(n)}),e.k0s()(),e.j41(19,"ion-item")(20,"ion-avatar",3),e.EFF(21," \xa0 "),e.k0s(),e.j41(22,"ion-select",14),e.mxI("ngModelChange",function(n){e.eBV(i);const r=e.XpG();return e.DH7(r.registration.geschlecht,n)||(r.registration.geschlecht=n),e.Njj(n)}),e.j41(23,"ion-select-option",15),e.EFF(24,"weiblich"),e.k0s(),e.j41(25,"ion-select-option",15),e.EFF(26,"m\xe4nnlich"),e.k0s()()(),e.j41(27,"ion-item-divider",10),e.EFF(28,"Kontakt"),e.k0s(),e.j41(29,"ion-item")(30,"ion-avatar",3),e.nrm(31,"img",16),e.k0s(),e.nrm(32,"ion-input",17)(33,"ion-input",18),e.k0s(),e.j41(34,"ion-item-divider")(35,"ion-avatar",3),e.nrm(36,"img",19),e.k0s(),e.j41(37,"ion-label"),e.EFF(38,"Einteilung"),e.k0s()(),e.j41(39,"ion-item")(40,"ion-avatar",3),e.EFF(41," \xa0 "),e.k0s(),e.j41(42,"ion-label",10),e.EFF(43,"Kommentar"),e.k0s(),e.j41(44,"ion-textarea",20),e.mxI("ngModelChange",function(n){e.eBV(i);const r=e.XpG();return e.DH7(r.registration.comment,n)||(r.registration.comment=n),e.Njj(n)}),e.k0s()()(),e.j41(45,"ion-list")(46,"ion-button",21,1),e.nrm(48,"ion-icon",22),e.EFF(49,"Speichern"),e.k0s()()()()}if(2&o){const i=e.sdS(2),t=e.XpG();e.R7$(14),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.name),e.R7$(4),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.vorname),e.R7$(4),e.R50("ngModel",t.registration.geschlecht),e.R7$(),e.Y8G("value","W"),e.R7$(2),e.Y8G("value","M"),e.R7$(7),e.Y8G("readonly",!1)("disabled",!1)("ngModel",t.registration.mail),e.R7$(),e.Y8G("readonly",!1)("disabled",!1)("ngModel",t.registration.mobilephone),e.R7$(11),e.Y8G("disabled",!1),e.R50("ngModel",t.registration.comment),e.R7$(2),e.Y8G("disabled",t.waiting||!i.valid||i.untouched)}}function b(o,I){if(1&o){const i=e.RV6();e.j41(0,"ion-button",23,2),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.delete())}),e.nrm(2,"ion-icon",24),e.EFF(3,"Anmeldung l\xf6schen"),e.k0s()}if(2&o){const i=e.XpG();e.Y8G("disabled",i.waiting)}}const k=[{path:"",component:(()=>{class o{navCtrl;route;backendService;alertCtrl;zone;constructor(i,t,n,r,g){this.navCtrl=i,this.route=t,this.backendService=n,this.alertCtrl=r,this.zone=g}waiting=!1;registration;wettkampf;regId;judgeId;wkId;wkPgms;wettkampfId;_selectedClubJudgeId;ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(i=>{const t=i.find(n=>n.uuid===this.wkId);this.wettkampfId=parseInt(t.id),this.backendService.loadProgramsForCompetition(t.uuid).subscribe(n=>{this.wkPgms=n,this.judgeId?this.backendService.loadJudgeRegistrations(this.wkId,this.regId).subscribe(r=>{this.updateUI(r.find(g=>g.id===this.judgeId))}):this.updateUI({id:0,vereinregistrationId:this.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})}editable(){return this.backendService.loggedIn}updateUI(i){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=i})}save(i){if(!i.valid)return;const t=Object.assign({},this.registration,i.value);console.log(t),0===this.judgeId||0===t.id?this.backendService.createJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteJudgeRegistration(this.wkId,this.regId,this.registration).subscribe(()=>{this.navCtrl.pop()})}}]}).then(t=>t.present())}static \u0275fac=function(t){return new(t||o)(e.rXU(m.q9),e.rXU(l.nX),e.rXU(h.m),e.rXU(a.hG),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:o,selectors:[["app-reg-judge-editor"]],standalone:!1,decls:14,vars:3,consts:[["judgeRegistrationForm","ngForm"],["btnSaveNext",""],["btnDelete",""],["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],[4,"ngIf"],["size","large","expand","block","color","danger",3,"disabled","click",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["color","primary"],["src","assets/imgs/chief.png"],["label","Name","required","","placeholder","Name","type","text","name","name","required","",3,"ngModelChange","disabled","ngModel"],["label","Vorname","required","","placeholder","Vorname","type","text","name","vorname","required","",3,"ngModelChange","disabled","ngModel"],["label","Geschlecht","required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"ngModelChange","ngModel"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"ngModelChange","disabled","ngModel"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["slot","start","name",""],["size","large","expand","block","color","danger",3,"click","disabled"],["slot","start","name","trash"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Wertungsrichter-Anmeldung"),e.k0s(),e.j41(6,"ion-note",5)(7,"div",6),e.EFF(8),e.k0s()()()(),e.DNE(9,p,50,16,"ion-content",7),e.j41(10,"ion-footer")(11,"ion-toolbar")(12,"ion-list"),e.DNE(13,b,4,1,"ion-button",8),e.k0s()()()),2&t&&(e.R7$(8),e.SpI("f\xfcr ",n.wettkampf,""),e.R7$(),e.Y8G("ngIf",n.registration),e.R7$(4),e.Y8G("ngIf",n.judgeId>0))},dependencies:[u.bT,d.qT,d.BC,d.cb,d.YS,d.R_,d.vS,d.cV,a.mC,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.$w,a.uz,a.Dg,a.he,a.nf,a.JI,a.Nm,a.Ip,a.nc,a.BC,a.ai,a.Je,a.Gw,a.el],encapsulation:2})}return o})()}];let f=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[l.iI.forChild(k),l.iI]})}return o})(),j=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[u.MD,d.YN,a.bv,f]})}return o})()}}]);