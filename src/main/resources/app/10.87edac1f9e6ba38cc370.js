(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dX8N:function(t,e,n){"use strict";n.r(e),n.d(e,"AthletViewPageModule",(function(){return v}));var i=n("ofXK"),r=n("3Pt+"),o=n("tyNb"),s=n("TEn/"),a=n("cygB"),c=n("pLZG"),u=n("lJxs"),l=n("fXoL"),b=n("H2Ii");function p(t,e){if(1&t&&(l.Kb(0,"ion-note",5),l.kc(1),l.Jb()),2&t){var n=l.Ub();l.xb(1),l.mc(" ",n.competitionName()," ")}}var m=function(t){return{"gradient-border":t}};function f(t,e){if(1&t&&(l.Kb(0,"ion-col",6),l.Kb(1,"div",7),l.Ib(2,"result-display",8),l.Jb(),l.Jb()),2&t){var n=e.$implicit,i=l.Ub();l.xb(1),l.ac("ngClass",l.bc(3,m,i.isNew(n))),l.xb(1),l.ac("item",n)("title",i.getTitle(n))}}var d=function(){function t(t,e,n){this.navCtrl=t,this.route=e,this.backendService=n,this.items=[],this.lastItems=[],this.geraete=[]}return t.prototype.makeItemHash=function(t){return t.id*this.geraete.length*200+100*t.geraet+(t.wertung.endnote||-1)},t.prototype.ngOnInit=function(){var t=this,e=parseInt(this.route.snapshot.paramMap.get("athletId")),n=this.route.snapshot.paramMap.get("wkId");this.backendService.loadAthletWertungen(n,e).pipe(Object(c.a)((function(t){return!!t&&t.length>0}))).subscribe((function(n){t.items=n,t.sortItems(e)})),this.backendService.geraeteSubject.subscribe((function(e){t.backendService.captionmode||(t.geraete=e)})),this.backendService.newLastResults.pipe(Object(c.a)((function(t){return!!t})),Object(u.a)((function(t){return t.results}))).subscribe((function(e){t.lastItems=t.items.map((function(e){return t.makeItemHash(e)})),t.items=t.items.map((function(t){var n=e[t.wertung.wettkampfdisziplinId];return n&&n.id===t.id?n:t}))}))},t.prototype.sortItems=function(t){var e=this;this.items=this.items.sort((function(t,n){var i=t.programm.localeCompare(n.programm);return 0===i&&(i=e.geraetOrder(t.geraet)-e.geraetOrder(n.geraet)),i}))},t.prototype.isNew=function(t){var e=this.makeItemHash(t);return 0===this.lastItems.filter((function(t){return t===e})).length},Object.defineProperty(t.prototype,"stationFreezed",{get:function(){return this.backendService.stationFreezed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"competition",{get:function(){return this.backendService.competition||""},enumerable:!1,configurable:!0}),t.prototype.getCompetitions=function(){return this.backendService.competitions||[]},t.prototype.competitionName=function(){var t=this;if(!this.backendService.competitions)return"";var e=this.backendService.competitions.filter((function(e){return e.uuid===t.backendService.competition})).map((function(t){return t.titel+", am "+(t.datum+"T").split("T")[0].split("-").reverse().join("-")}));return 1===e.length?e[0]:""},t.prototype.geraetOrder=function(t){return this.geraete?this.geraete.findIndex((function(e){return e.id===t})):0},t.prototype.geraetText=function(t){if(!this.geraete)return"";var e=this.geraete.filter((function(e){return e.id===t})).map((function(t){return t.name}));return 1===e.length?e[0]:""},t.prototype.getTitle=function(t){return t.programm+" - "+this.geraetText(t.geraet)},t.\u0275fac=function(e){return new(e||t)(l.Hb(s.L),l.Hb(o.a),l.Hb(a.a))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-athlet-view"]],decls:15,vars:2,consts:[["slot","start"],["defaultHref","/"],["no-padding",""],["slot","end",4,"ngIf"],["class","align-self-start","size-xs","12","size-md","6","size-lg","4","size-xl","2","col-12","","col-sm-6","","col-lg-4","","col-xl-2","",4,"ngFor","ngForOf"],["slot","end"],["size-xs","12","size-md","6","size-lg","4","size-xl","2","col-12","","col-sm-6","","col-lg-4","","col-xl-2","",1,"align-self-start"],[3,"ngClass"],[3,"item","title"]],template:function(t,e){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-buttons",0),l.Ib(3,"ion-back-button",1),l.Jb(),l.Kb(4,"ion-title"),l.Kb(5,"ion-grid",2),l.Kb(6,"ion-row"),l.Kb(7,"ion-col"),l.Kb(8,"ion-label"),l.kc(9,"Aktuelle Resultate"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.jc(10,p,2,1,"ion-note",3),l.Jb(),l.Jb(),l.Kb(11,"ion-content"),l.Kb(12,"ion-grid",2),l.Kb(13,"ion-row"),l.jc(14,f,3,5,"ion-col",4),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.xb(10),l.ac("ngIf",e.competition),l.xb(4),l.ac("ngForOf",e.items))},directives:[s.m,s.H,s.g,s.d,s.e,s.G,s.l,s.A,s.i,s.u,i.m,s.j,i.l,s.y,i.k,b.a],styles:[""]}),t}(),g=n("bDjW"),h=[{path:"",component:d}],v=function(){function t(){}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[i.c,r.a,s.I,o.i.forChild(h),g.a]]}),t}()}}]);