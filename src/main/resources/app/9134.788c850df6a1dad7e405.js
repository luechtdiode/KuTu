(self.webpackChunkresultcatcher=self.webpackChunkresultcatcher||[]).push([[9134],{9134:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RegJudgeEditorPageModule:()=>h});var n=i(8583),r=i(665),o=i(2859),a=i(2952),s=i(8186),d=i(600);function g(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-content"),s.TgZ(1,"form",6,7),s.NdJ("ngSubmit",function(){s.CHM(e);const t=s.MAs(2);return s.oxw().save(t.value)})("keyup.enter",function(){s.CHM(e);const t=s.MAs(2);return s.oxw().save(t.value)}),s.TgZ(3,"ion-list"),s.TgZ(4,"ion-item-divider",8),s._uU(5,"Wertungsrichter/-in"),s.qZA(),s.TgZ(6,"ion-item"),s.TgZ(7,"ion-avatar",0),s._UZ(8,"img",9),s.qZA(),s.TgZ(9,"ion-input",10),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().registration.name=t}),s.qZA(),s.TgZ(10,"ion-input",11),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().registration.vorname=t}),s.qZA(),s.qZA(),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-avatar",0),s._uU(13," \xa0 "),s.qZA(),s.TgZ(14,"ion-label",8),s._uU(15,"Geschlecht"),s.qZA(),s.TgZ(16,"ion-select",12),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().registration.geschlecht=t}),s.TgZ(17,"ion-select-option",13),s._uU(18,"weiblich"),s.qZA(),s.TgZ(19,"ion-select-option",13),s._uU(20,"m\xe4nnlich"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"ion-item-divider",8),s._uU(22,"Kontakt"),s.qZA(),s.TgZ(23,"ion-item"),s.TgZ(24,"ion-avatar",0),s._UZ(25,"img",14),s.qZA(),s._UZ(26,"ion-input",15),s._UZ(27,"ion-input",16),s.qZA(),s.TgZ(28,"ion-item-divider"),s.TgZ(29,"ion-avatar",0),s._UZ(30,"img",17),s.qZA(),s.TgZ(31,"ion-label"),s._uU(32,"Einteilung"),s.qZA(),s.qZA(),s.TgZ(33,"ion-item"),s.TgZ(34,"ion-avatar",0),s._uU(35," \xa0 "),s.qZA(),s.TgZ(36,"ion-label",8),s._uU(37,"Kommentar"),s.qZA(),s.TgZ(38,"ion-textarea",18),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().registration.comment=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"ion-list"),s.TgZ(40,"ion-button",19,20),s._UZ(42,"ion-icon",21),s._uU(43,"Speichern"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.MAs(2),t=s.oxw();s.xp6(9),s.Q6J("disabled",!1)("ngModel",t.registration.name),s.xp6(1),s.Q6J("disabled",!1)("ngModel",t.registration.vorname),s.xp6(6),s.Q6J("ngModel",t.registration.geschlecht),s.xp6(1),s.Q6J("value","W"),s.xp6(2),s.Q6J("value","M"),s.xp6(7),s.Q6J("readonly",!1)("disabled",!1)("ngModel",t.registration.mail),s.xp6(1),s.Q6J("readonly",!1)("disabled",!1)("ngModel",t.registration.mobilephone),s.xp6(11),s.Q6J("disabled",!1)("ngModel",t.registration.comment),s.xp6(2),s.Q6J("disabled",t.waiting||!e.valid||e.untouched)}}function l(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-button",22,23),s.NdJ("click",function(){return s.CHM(e),s.oxw().delete()}),s._UZ(2,"ion-icon",24),s._uU(3,"Anmeldung l\xf6schen"),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("disabled",e.waiting)}}const c=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r){this.navCtrl=e,this.route=t,this.backendService=i,this.alertCtrl=n,this.zone=r,this.waiting=!1}ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(e=>{const t=e.find(e=>e.uuid===this.wkId);this.wettkampfId=parseInt(t.id),this.backendService.loadProgramsForCompetition(t.uuid).subscribe(e=>{this.wkPgms=e,this.judgeId?this.backendService.loadJudgeRegistrations(this.wkId,this.regId).subscribe(e=>{this.updateUI(e.find(e=>e.id===this.judgeId))}):this.updateUI({id:0,vereinregistrationId:this.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})}editable(){return this.backendService.loggedIn}updateUI(e){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=e})}save(e){const t=Object.assign({},this.registration,e);console.log(t),0===this.judgeId||0===t.id?this.backendService.createJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,t).subscribe(()=>{this.navCtrl.pop()})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteJudgeRegistration(this.wkId,this.regId,this.registration).subscribe(()=>{this.navCtrl.pop()})}}]}).then(e=>e.present())}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.SH),s.Y36(a.gz),s.Y36(d.v),s.Y36(o.Br),s.Y36(s.R0b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-reg-judge-editor"]],decls:14,vars:3,consts:[["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],[4,"ngIf"],["size","large","expand","block","color","danger",3,"disabled","click",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["judgeRegistrationForm","ngForm"],["color","primary"],["src","assets/imgs/chief.png"],["required","","placeholder","Name","type","text","name","name","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Vorname","type","text","name","vorname","required","",3,"disabled","ngModel","ngModelChange"],["required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"ngModel","ngModelChange"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"disabled","ngModel","ngModelChange"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["btnSaveNext",""],["slot","start","name",""],["size","large","expand","block","color","danger",3,"disabled","click"],["btnDelete",""],["slot","start","name","trash"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5,"Wertungsrichter-Anmeldung"),s.qZA(),s.TgZ(6,"ion-note",2),s.TgZ(7,"div",3),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(9,g,44,16,"ion-content",4),s.TgZ(10,"ion-footer"),s.TgZ(11,"ion-toolbar"),s.TgZ(12,"ion-list"),s.YNc(13,l,4,1,"ion-button",5),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.hij("f\xfcr ",t.wettkampf,""),s.xp6(1),s.Q6J("ngIf",t.registration),s.xp6(4),s.Q6J("ngIf",t.judgeId>0))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.uN,n.O5,o.fr,o.q_,o.W2,r._Y,r.JL,r.F,o.rH,o.Ie,o.BJ,o.pK,o.j9,r.Q7,r.JJ,r.On,o.Q$,o.t9,o.QI,o.n0,r.c5,o.g2,o.YG,o.gu],styles:[""]}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(c)],a.Bz]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,r.u5,o.Pc,u]]}),e})()}}]);