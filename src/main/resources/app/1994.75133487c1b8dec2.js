"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1994],{1994:(he,f,c)=>{c.r(f),c.d(f,{ClubregEditorPageModule:()=>me});var m=c(9808),p=c(2382),_=c(1631),a=c(7674),w=c(655),y=c(5698),O=c(7225),e=c(7587),I=c(7579),k=c(2076),A=c(8306),T=c(8746);const S=["searchbarElem"],M=["inputElem"],E=["itemList"];function x(i,l){if(1&i&&e._UZ(0,"ion-icon",15),2&i){const t=e.oxw(2);e.Q6J("name",t.frontIcon)("slot","start")}}function P(i,l){if(1&i&&e._UZ(0,"ion-icon",16),2&i){const t=e.oxw().attrs;e.Q6J("name",t.removeButtonIcon)("slot",t.removeButtonSlot)}}function Z(i,l){if(1&i&&(e.TgZ(0,"ion-chip",12),e.YNc(1,x,1,2,"ion-icon",13),e.TgZ(2,"ion-label"),e._uU(3),e.qZA(),e.YNc(4,P,1,2,"ion-icon",14),e.qZA()),2&i){const t=l.attrs,n=e.oxw();e.Tol(t.removeButtonClasses),e.Q6J("color",t.removeButtonColor)("outline",!0),e.xp6(1),e.Q6J("ngIf",n.frontIcon),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",t.removeButtonIcon)}}function L(i,l){}const B=function(i,l,t,n,o,s){return{data:i,label:l,removeButtonClasses:t,removeButtonColor:n,removeButtonIcon:o,removeButtonSlot:s}},h=function(i){return{attrs:i}};function J(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).removeItem(s)}),e.YNc(1,L,0,0,"ng-template",10),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw(2),o=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",n.selectionTemplate||o)("ngTemplateOutletContext",e.VKq(9,h,e.HTZ(2,B,t,n.getLabel(t),n.removeButtonClasses,n.removeButtonColor,n.removeButtonIcon,n.removeButtonSlot)))}}function F(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,J,2,11,"div",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selected)}}function V(i,l){if(1&i&&(e.TgZ(0,"ion-label",19),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Q6J("position",t.labelPosition),e.xp6(1),e.Oqu(t.label)}}function R(i,l){if(1&i&&(e._UZ(0,"span",20),e.ALo(1,"boldprefix")),2&i){const t=l.attrs;e.Q6J("innerHTML",e.xi3(1,1,t.label,t.keyword),e.oJD)}}function N(i,l){if(1&i&&e._uU(0),2&i){const t=e.oxw();e.hij(" ",t.autocompleteOptions.noItems,"\n")}}function Q(i,l){}function U(i,l){}const q=function(i){return{focus:i}},Y=function(i,l,t,n,o,s){return{data:i,label:l,keyword:t,formValue:n,labelAttribute:o,formValueAttribute:s}};function H(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"li",25),e.NdJ("mouseenter",function(){const s=e.CHM(t).index;return e.oxw(3).focusedOption=s})("click",function(o){const r=e.CHM(t).$implicit;return e.oxw(3).handleSelectTap(o,r)})("tap",function(o){const r=e.CHM(t).$implicit;return e.oxw(3).handleSelectTap(o,r)}),e.YNc(1,U,0,0,"ng-template",10),e.qZA()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw(3),s=e.MAs(9);e.Q6J("ngClass",e.VKq(4,q,o.focusedOption===n))("ngStyle",o.styles.listItem),e.xp6(1),e.Q6J("ngTemplateOutlet",o.template||s)("ngTemplateOutletContext",e.VKq(13,h,e.HTZ(6,Y,t,o.getLabel(t),o.keyword,o.getFormValue(t),o.getLabel(t),o.getFormValue(t))))}}function D(i,l){if(1&i&&(e.TgZ(0,"ul",22,23),e.YNc(2,H,2,15,"li",24),e.ALo(3,"slice"),e.qZA()),2&i){const t=e.oxw().attrs,n=e.oxw();e.Q6J("ngStyle",n.listStyles()),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,2,t.data,0,t.maxResults))}}function j(i,l){}const W=function(i){return{keyword:i}};function z(i,l){if(1&i&&(e.TgZ(0,"ul",22)(1,"li",22),e.YNc(2,j,0,0,"ng-template",10),e.qZA()()),2&i){const t=e.oxw(2),n=e.MAs(11);e.Q6J("ngStyle",t.listStyles()),e.xp6(1),e.Q6J("ngStyle",t.styles.listItem),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyTemplate||n)("ngTemplateOutletContext",e.VKq(6,h,e.VKq(4,W,t.keyword)))}}function K(i,l){if(1&i&&(e.YNc(0,D,4,6,"ul",21),e.YNc(1,z,3,8,"ul",21)),2&i){const t=l.attrs,n=e.oxw();e.Q6J("ngIf",!(n.disabled||null!==t.maxSelected&&t.selected.length>=t.maxSelected)&&t.data.length>0&&t.showSuggestions),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&0===n.suggestions.length&&n.showSuggestions)}}const G=function(i,l){return{hidden:i,loading:l}},$=function(i,l,t){return{hidden:i,loading:l,disabled:t}},X=function(i,l,t,n,o,s){return{data:i,keyword:l,maxResults:t,maxSelected:n,selected:o,showSuggestions:s}};class g{constructor(){this.animated=!1,this.color=null,this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon="arrow-round-back",this.cancelButtonText="Cancel",this.clearIcon="close-circle",this.clearInput=!1,this.clearOnEdit=!1,this.debounce=250,this.mode="md",this.noItems="No items found.",this.placeholder="Search",this.searchIcon="search",this.showCancelButton=!1,this.spellcheck="off",this.type="search"}}class ee{constructor(){this.list={},this.listItem={},this.searchbar={}}}let te=(()=>{class i{constructor(){this.autocompleteOptions=new g,this.hasFocus=!1,this.isLoading=!1,this.focusedOption=-1,this.showSuggestions=!1,this.onTouchedCallback=!1,this.onChangeCallback=!1,this.showListChanged=!1,this.alwaysShowList=!1,this.autoFocusSuggestion=!0,this.clearInvalidInput=!0,this.disabled=!1,this.exclude=[],this.frontIcon=!1,this.hideListOnSelection=!0,this.label="",this.labelPosition="fixed",this.location="auto",this.maxResults=8,this.maxSelected=null,this.multi=!1,this.name="",this.removeButtonClasses="",this.removeButtonColor="primary",this.removeButtonIcon="close-circle",this.removeButtonSlot="end",this.removeDuplicateSuggestions=!0,this.selectOnTabOut=!0,this.styles=new ee,this.useIonInput=!1,this.autoBlur=new e.vpe,this.autoFocus=new e.vpe,this.blur=new e.vpe,this.focus=new e.vpe,this.ionAutoInput=new e.vpe,this.itemsChange=new e.vpe,this.itemsCleared=new e.vpe,this.itemsHidden=new e.vpe,this.itemRemoved=new e.vpe,this.itemSelected=new e.vpe,this.itemsShown=new e.vpe,this.modelChange=new e.vpe,this.keyword="",this.suggestions=[]}set dataProvider(t){void 0!==t&&(this.provider=t,void 0!==this.selected&&(this.keyword=this.getLabel(this.selected)))}set eager(t){t&&this.getItems(null,!1)}set options(t){this.autocompleteOptions=new g;const n=Object.keys(t),o=n.length;for(let s=0;s<o;s++){const r=n[s];void 0!==t[r]&&(this.autocompleteOptions[r]=t[r])}void 0===this.selected&&(this.selected=void 0!==this.autocompleteOptions.value?this.autocompleteOptions.value:this.multi?[]:null,this.keyword=this.getLabel(this.selected)),this.autocomplete=this.autocompleteOptions.autocomplete?this.autocompleteOptions.autocomplete:"off"}get model(){let t=this.selected;return!this.multi&&void 0!==this.selected.length&&(t=0===this.selected.length?null:this.selected[0]),t}set model(t){this.selected=t}get showList(){return this.showSuggestions}set showList(t){void 0!==t&&this.showSuggestions!==t&&(this.showSuggestions=!0===t,this.showListChanged=!0)}documentClickHandler(t){this.isEventWithinElement(this.searchbarElem,t)||this.isEventWithinElement(this.inputElem,t)||this.isEventWithinElement(this.itemList,t)?this.setSuggestions(this.suggestions):this.hideItemList()}ngAfterViewChecked(){this.showListChanged&&(this.showListChanged=!1,this.showSuggestions?this.itemsShown.emit():this.itemsHidden.emit())}ngDoCheck(){this.hasFocus||this.clearInvalidInput&&(null===this.selected||this.multi)&&(""!==this.keyword&&(this.keyword=""),this.inputElem&&this.inputElem.nativeElement&&this.inputElem.nativeElement.children&&0!==this.inputElem.nativeElement.children.length&&this.inputElem.nativeElement.children[0].children&&0!==this.inputElem.nativeElement.children[0].children.length&&this.inputElem.nativeElement.children[0].children[0].value&&(this.inputElem.nativeElement.children[0].children[0].value=""),this.searchbarElem&&this.searchbarElem.nativeElement&&this.searchbarElem.nativeElement.children&&0!==this.searchbarElem.nativeElement.children.length&&this.searchbarElem.nativeElement.children[0].children&&0!==this.searchbarElem.nativeElement.children[0].children.length&&this.searchbarElem.nativeElement.children[0].children[0].value&&(this.searchbarElem.nativeElement.children[0].children[0].value=""))}_getPosition(t){let n=0,o=0;for(;t;){if("BODY"===t.tagName){const s=t.scrollLeft||document.documentElement.scrollLeft,r=t.scrollTop||document.documentElement.scrollTop;n+=t.offsetLeft-s+t.clientLeft,o+=t.offsetTop-r+t.clientTop}else n+=t.offsetLeft-t.scrollLeft+t.clientLeft,o+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:n,y:o}}isEventWithinElement(t,n){if(void 0===t)return!1;let o;return o=t instanceof e.Rgc?t.elementRef:t instanceof e.s_b?t.element.nativeElement:t,o&&o.nativeElement&&o.nativeElement.contains(n.target)}getFormValue(t){if(void 0===this.provider||null==t||"function"==typeof this.provider)return null;let n=null==this.provider.formValueAttribute?this.provider.labelAttribute:this.provider.formValueAttribute;return"object"==typeof t&&n?t[n]:t}clickClear(){this.clearValue(),this.hideItemList(),this.itemsCleared.emit(!0)}clearValue(){this.keyword="",this.selection=null,this.formValue=null,this.focusedOption>0&&(this.focusedOption=this.focusedOption-1)}getItems(t,n){this.isLoading=!0,this.promise&&clearTimeout(this.promise),this.promise=setTimeout(()=>{let o;t&&(this.keyword=t.detail.target.value),this.showResultsFirst&&""===this.keyword.trim()&&(this.keyword=""),"function"==typeof this.provider?(o=this.provider(this.keyword),this.setSuggestions(o,n),this.isLoading=!1):(o=this.provider.getResults(this.keyword),o instanceof I.x?o=o.asObservable():o instanceof Promise&&(o=(0,k.D)(o)),o instanceof A.y?o.pipe((0,T.x)(()=>{this.isLoading=!1})).subscribe(s=>{this.setSuggestions(s,n)},s=>console.error(s)):(this.setSuggestions(o,n),this.isLoading=!1)),this.ionAutoInput.emit(this.keyword)},this.autocompleteOptions.debounce)}getLabel(t){if(void 0===this.provider||null==t||"function"==typeof this.provider)return"";let n=null==this.provider.formValueAttribute?this.provider.labelAttribute:this.provider.formValueAttribute,o=t;if(this.provider.getItemLabel&&(o=this.provider.getItemLabel(o)),!this.multi&&void 0!==o&&"[object Array]"===Object.prototype.toString.call(o)){if(0===o.length)return"";o=o[0]}return"object"==typeof o&&n?o[n]||"":o||""}listStyles(){const t=this.listLocationStyles();return Object.assign(Object.assign({},t),this.styles.list)}listLocationStyles(){let t=this.location;if("auto"===this.location){const n=this._getPosition(this.searchbarElem.nativeElement).y;t=n>window.innerHeight-n?"top":"bottom"}return"bottom"===t?{}:{bottom:"37px"}}handleTabOut(t){this.selectOnTabOut&&0!==this.suggestions.length&&-1!==this.focusedOption?this.selectItem(this.suggestions[this.focusedOption]):this.hideItemList(),this.onBlur(t)}handleTap(t){(this.showResultsFirst||this.keyword.length>0)&&this.getItems()}handleSelectTap(t,n){return void 0!==n&&(this.selectItem(n),t.srcEvent?(t.srcEvent.stopPropagation&&t.srcEvent.stopPropagation(),t.srcEvent.preventDefault&&t.srcEvent.preventDefault()):t.preventDefault&&t.preventDefault()),!1}hideItemList(){!1===this.showSuggestions&&!1===this.alwaysShowList&&(this.showListChanged=!0),this.showSuggestions=this.alwaysShowList,this.focusedOption=-1}highlightItem(t){!1===this.showSuggestions&&this.showItemList();let n=this.suggestions.length-1;n>this.maxResults&&(n=this.maxResults-1),t<0?-1===this.focusedOption||this.focusedOption===n?this.focusedOption=0:this.focusedOption++:t>0&&(-1===this.focusedOption||0===this.focusedOption?this.focusedOption=n:this.focusedOption--)}onFocus(t){this.hasFocus=!0,this.getItems(),t=this._reflectName(t),this.autoFocus.emit(t),this.focus.emit(t)}onBlur(t){this.hasFocus=!1,t=this._reflectName(t),this.autoBlur.emit(t),this.blur.emit(t)}_reflectName(t){return"object"==typeof t.srcElement.attributes["ng-reflect-name"]&&(t.srcElement.name=t.srcElement.attributes["ng-reflect-name"].value),t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}removeDuplicates(t){const n=this.selected?this.selected.length:0,o=t.length;for(let s=0;s<n;s++){const r=this.getLabel(this.selected[s]);for(let u=0;u<o;u++)r===this.getLabel(t[u])&&t.splice(u,1)}return t}removeExcluded(t){const n=this.exclude.length;for(let o=0;o<n;o++){let s=this.exclude[o];"object"==typeof s&&(s=this.getLabel(s));const r=t.length;for(let u=0;u<r;u++)if(s===this.getLabel(t[u])){t.splice(u,1);break}}return t}removeItem(t,n){const o=this.selected?this.selected.length:0;for(let s=0;s<o;s++){const r=this.selected[s];this.getLabel(t)===this.getLabel(r)&&this.selected.splice(s,1)}(n=void 0===n||n)&&(this.itemRemoved.emit(t),this.itemsChange.emit(this.selected)),this.modelChange.emit(this.selected)}selectItem(t){if(this.keyword=this.getLabel(t),this.formValue=this.getFormValue(t),this.updateModel(this.formValue),this.hideListOnSelection&&this.hideItemList(),this.multi){if(!(null===this.maxSelected||this.selected.length<=this.maxSelected))return;this.clearValue(),this.selected.push(t),this.itemsChange.emit(this.selected)}else this.selection=t,this.selected=[t],this.itemsChange.emit(t);this.itemSelected.emit(t),this.modelChange.emit(this.selected)}setFocus(){this.useIonInput&&this.inputElem?this.inputElem.nativeElement.setFocus():this.searchbarElem&&this.searchbarElem.nativeElement.setFocus()}setSuggestions(t,n){this.removeDuplicateSuggestions&&(t=this.removeDuplicates(t),t=this.removeExcluded(t)),this.suggestions=t,(n||void 0===n)&&this.showItemList(),this.autoFocusSuggestion&&0!==this.suggestions.length&&(this.focusedOption=0)}setValue(t){this.formValue=this.getFormValue(t),this.keyword=this.getLabel(t)}showItemList(){!1===this.showSuggestions&&(this.showListChanged=!0),this.showSuggestions=!0}updateModel(t){t!==this.formValue&&(this.formValue=t,this.multi||(this.selected=null)),this.onChangeCallback&&this.onChangeCallback(this.formValue),this.modelChange.emit(this.selected)}writeValue(t){t!==this.selection&&(this.selection=t||null,this.formValue=this.getFormValue(this.selection),this.keyword=this.getLabel(this.selection))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ion-auto-complete"]],viewQuery:function(t,n){if(1&t&&(e.Gf(S,5,e.SBq),e.Gf(M,5,e.SBq),e.Gf(E,5,e.SBq)),2&t){let o;e.iGM(o=e.CRH())&&(n.searchbarElem=o.first),e.iGM(o=e.CRH())&&(n.inputElem=o.first),e.iGM(o=e.CRH())&&(n.itemList=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("click",function(s){return n.documentClickHandler(s)},!1,e.evT)},inputs:{alwaysShowList:"alwaysShowList",autoFocusSuggestion:"autoFocusSuggestion",clearInvalidInput:"clearInvalidInput",disabled:"disabled",exclude:"exclude",frontIcon:"frontIcon",hideListOnSelection:"hideListOnSelection",label:"label",labelPosition:"labelPosition",location:"location",maxResults:"maxResults",maxSelected:"maxSelected",multi:"multi",name:"name",removeButtonClasses:"removeButtonClasses",removeButtonColor:"removeButtonColor",removeButtonIcon:"removeButtonIcon",removeButtonSlot:"removeButtonSlot",removeDuplicateSuggestions:"removeDuplicateSuggestions",selectOnTabOut:"selectOnTabOut",styles:"styles",useIonInput:"useIonInput",keyword:"keyword",dataProvider:"dataProvider",provider:"provider",eager:"eager",options:"options",autocomplete:"autocomplete",model:"model",showList:"showList",emptyTemplate:"emptyTemplate",listTemplate:"listTemplate",selectionTemplate:"selectionTemplate",showResultsFirst:"showResultsFirst",template:"template"},outputs:{autoBlur:"autoBlur",autoFocus:"autoFocus",blur:"blur",focus:"focus",ionAutoInput:"ionAutoInput",itemsChange:"itemsChange",itemsCleared:"itemsCleared",itemsHidden:"itemsHidden",itemRemoved:"itemRemoved",itemSelected:"itemSelected",itemsShown:"itemsShown",modelChange:"modelChange"},features:[e._Bn([{provide:p.JU,useExisting:i,multi:!0}])],decls:15,vars:50,consts:[["defaultSelection",""],[4,"ngIf"],[3,"position",4,"ngIf"],[3,"autocomplete","name","ngModel","placeholder","type","clearOnEdit","clearInput","color","mode","disabled","ngClass","ngStyle","ionInput","tap","ngModelChange","keydown.tab","keydown.shift.tab","keyup.arrowDown","keyup.arrowUp","keyup.enter","keyup.escape","ionFocus","ionBlur"],["inputElem",""],[3,"autocomplete","name","animated","ngModel","cancelButtonIcon","cancelButtonText","clearIcon","color","showCancelButton","debounce","placeholder","autocorrect","mode","searchIcon","spellcheck","type","ngClass","ngStyle","ionInput","tap","ngModelChange","keydown.tab","keydown.shift.tab","keyup.arrowDown","keyup.arrowUp","keyup.enter","keyup.escape","ionClear","ionFocus","ionBlur"],["searchbarElem",""],["defaultTemplate",""],["class","ion-text-center"],["defaultEmptyTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultList",""],[3,"color","outline"],["color","primary",3,"name","slot",4,"ngIf"],[3,"name","slot",4,"ngIf"],["color","primary",3,"name","slot"],[3,"name","slot"],["class","selected-items",3,"click",4,"ngFor","ngForOf"],[1,"selected-items",3,"click"],[3,"position"],[3,"innerHTML"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["itemList",""],[3,"ngClass","ngStyle","mouseenter","click","tap",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","mouseenter","click","tap"]],template:function(t,n){if(1&t&&(e.YNc(0,Z,5,8,"ng-template",null,0,e.W1O),e.YNc(2,F,2,1,"div",1),e.YNc(3,V,2,2,"ion-label",2),e.TgZ(4,"ion-input",3,4),e.NdJ("ionInput",function(s){return n.getItems(s)})("tap",function(s){return n.handleTap(s)})("ngModelChange",function(s){return n.keyword=s})("ngModelChange",function(s){return n.updateModel(s)})("keydown.tab",function(s){return n.handleTabOut(s)})("keydown.shift.tab",function(){return n.hideItemList()})("keyup.arrowDown",function(){return n.highlightItem(-1)})("keyup.arrowUp",function(){return n.highlightItem(1)})("keyup.enter",function(s){return n.handleSelectTap(s,n.suggestions[n.focusedOption])})("keyup.escape",function(){return n.hideItemList()})("ionFocus",function(s){return n.onFocus(s)})("ionBlur",function(s){return n.onBlur(s)}),e.qZA(),e.TgZ(6,"ion-searchbar",5,6),e.NdJ("ionInput",function(s){return n.getItems(s)})("tap",function(s){return n.handleTap(s)})("ngModelChange",function(s){return n.keyword=s})("ngModelChange",function(s){return n.updateModel(s)})("keydown.tab",function(s){return n.handleTabOut(s)})("keydown.shift.tab",function(){return n.hideItemList()})("keyup.arrowDown",function(){return n.highlightItem(-1)})("keyup.arrowUp",function(){return n.highlightItem(1)})("keyup.enter",function(s){return n.handleSelectTap(s,n.suggestions[n.focusedOption])})("keyup.escape",function(){return n.hideItemList()})("ionClear",function(){return n.clickClear()})("ionFocus",function(s){return n.onFocus(s)})("ionBlur",function(s){return n.onBlur(s)}),e.qZA(),e.YNc(8,R,2,4,"ng-template",null,7,e.W1O),e.YNc(10,N,1,1,"ng-template",8,9,e.W1O),e.YNc(12,Q,0,0,"ng-template",10),e.YNc(13,K,2,2,"ng-template",null,11,e.W1O)),2&t){const o=e.MAs(14);e.xp6(2),e.Q6J("ngIf",n.multi),e.xp6(1),e.Q6J("ngIf",0!==n.label.length),e.xp6(1),e.Q6J("autocomplete",n.autocomplete)("name",n.name)("ngModel",n.keyword)("placeholder",null==n.autocompleteOptions.placeholder?n.defaultOpts.placeholder:n.autocompleteOptions.placeholder)("type",null==n.autocompleteOptions.type?n.defaultOpts.type:n.autocompleteOptions.type)("clearOnEdit",null==n.autocompleteOptions.clearOnEdit?n.defaultOpts.clearOnEdit:n.autocompleteOptions.clearOnEdit)("clearInput",null==n.autocompleteOptions.clearInput?n.defaultOpts.clearInput:n.autocompleteOptions.clearInput)("color",null==n.autocompleteOptions.color?null:n.autocompleteOptions.color)("mode",null==n.autocompleteOptions.mode?n.defaultOpts.mode:n.autocompleteOptions.mode)("disabled",n.disabled||null!==n.maxSelected&&n.selected.length>=n.maxSelected)("ngClass",e.WLB(34,G,!n.useIonInput,n.isLoading))("ngStyle",n.styles.searchbar),e.xp6(2),e.Q6J("autocomplete",n.autocomplete)("name",n.name)("animated",null==n.autocompleteOptions.animated?n.defaultOpts.animated:n.autocompleteOptions.animated)("ngModel",n.keyword)("cancelButtonIcon",null==n.autocompleteOptions.cancelButtonIcon?n.defaultOpts.cancelButtonIcon:n.autocompleteOptions.cancelButtonIcon)("cancelButtonText",null==n.autocompleteOptions.cancelButtonText?n.defaultOpts.cancelButtonText:n.autocompleteOptions.cancelButtonText)("clearIcon",null==n.autocompleteOptions.clearIcon?n.defaultOpts.clearIcon:n.autocompleteOptions.clearIcon)("color",null==n.autocompleteOptions.color?null:n.autocompleteOptions.color)("showCancelButton",null==n.autocompleteOptions.showCancelButton?n.defaultOpts.showCancelButton?"always":"never":n.autocompleteOptions.showCancelButton?"always":"never")("debounce",null==n.autocompleteOptions.debounce?n.defaultOpts.debounce:n.autocompleteOptions.debounce)("placeholder",null==n.autocompleteOptions.placeholder?n.defaultOpts.placeholder:n.autocompleteOptions.placeholder)("autocorrect",null==n.autocompleteOptions.autocorrect?n.defaultOpts.autocorrect:n.autocompleteOptions.autocorrect)("mode",null==n.autocompleteOptions.mode?n.defaultOpts.mode:n.autocompleteOptions.mode)("searchIcon",null==n.autocompleteOptions.searchIcon?n.defaultOpts.searchIcon:n.autocompleteOptions.searchIcon)("spellcheck",null==n.autocompleteOptions.spellcheck?n.defaultOpts.spellcheck:n.autocompleteOptions.spellcheck)("type",null==n.autocompleteOptions.type?n.defaultOpts.type:n.autocompleteOptions.type)("ngClass",e.kEZ(37,$,n.useIonInput,n.isLoading,n.disabled||null!==n.maxSelected&&n.selected.length>=n.maxSelected))("ngStyle",n.styles.searchbar),e.xp6(6),e.Q6J("ngTemplateOutlet",n.listTemplate||o)("ngTemplateOutletContext",e.VKq(48,h,e.HTZ(41,X,n.suggestions,n.keyword,n.maxResults,n.maxSelected,n.selected,n.showSuggestions)))}},directives:function(){return[a.hM,m.O5,a.gu,a.Q$,m.sg,m.tP,a.pK,a.j9,p.JJ,p.On,m.mk,m.PC,a.VI]},pipes:function(){return[ne,m.OU]},styles:["ion-auto-complete[_ngcontent-%COMP%]{overflow:hidden!important;width:90vw;display:inline-block}ion-auto-complete[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:1px!important}ion-auto-complete[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   input.searchbar-input[_ngcontent-%COMP%]{pointer-events:none;cursor:default}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;width:90vw;margin-top:0;background:#fff;list-style-type:none;padding:0;left:16px;z-index:999;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #c1c1c1}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ion-auto-complete-item[_ngcontent-%COMP%]{height:40px;width:100%}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.focus[_ngcontent-%COMP%], ion-auto-complete[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{cursor:pointer;background:#f1f1f1}ion-auto-complete[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}ion-auto-complete[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   input.searchbar-input[_ngcontent-%COMP%]{background:#fff url(/assets/loading.gif) no-repeat right 4px center;background-size:25px 25px}ion-auto-complete[_ngcontent-%COMP%]   .searchbar-clear-button.sc-ion-searchbar-md[_ngcontent-%COMP%]{right:34px}ion-auto-complete[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]{float:left}"]}),i})(),ne=(()=>{class i{transform(t,n){if(!n)return t;let o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return t.replace(new RegExp(o,"gi"),function(s){return s.bold()})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"boldprefix",type:i,pure:!0}),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),oe=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,p.u5,a.Pc]]}),i})();var ie=c(600);function se(i,l){1&i&&(e.TgZ(0,"ion-item-divider",11),e._uU(1,"Vorbelegung des Vereinsnamens"),e.qZA())}function le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",25)(1,"ion-auto-complete",26),e.NdJ("itemSelected",function(o){return e.CHM(t),e.oxw(2).vereinSelected(o)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.options)("dataProvider",t.provider)}}function ae(i,l){if(1&i&&(e.TgZ(0,"ion-item")(1,"ion-avatar",0),e._UZ(2,"img",27),e.qZA(),e._UZ(3,"ion-input",28)(4,"ion-input",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.newRegistration.secret),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.newRegistration.verification)}}function re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-avatar",0),e._UZ(2,"img",27),e.qZA(),e.TgZ(3,"ion-input",30),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).changePassword.secret=o}),e.qZA(),e.TgZ(4,"ion-input",31),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).changePassword.verification=o}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.changePassword.secret),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",t.changePassword.verification)}}function ce(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-avatar",0),e._uU(2," \xa0 "),e.qZA(),e.TgZ(3,"ion-button",32,33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).savePWChange()}),e._UZ(5,"ion-icon",23),e._uU(6,"Passwort \xe4ndern "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.waiting||!t.changePassword.secret||t.changePassword.secret!==t.changePassword.verification)}}function ue(i,l){if(1&i&&(e.TgZ(0,"ion-item"),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",t," ")}}function pe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-content"),e.YNc(1,se,2,0,"ion-item-divider",7),e.YNc(2,le,2,2,"ion-item",8),e.TgZ(3,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.MAs(4);return e.oxw().save(o.value)})("keyup.enter",function(){e.CHM(t);const o=e.MAs(4);return e.oxw().save(o.value)}),e.TgZ(5,"ion-list")(6,"ion-item-divider",11),e._uU(7,"Verein"),e.qZA(),e.TgZ(8,"ion-item")(9,"ion-avatar",0),e._UZ(10,"img",12),e.qZA(),e._UZ(11,"ion-input",13)(12,"ion-input",14),e.qZA(),e.TgZ(13,"ion-item-divider",11),e._uU(14,"Verantwortliche Person"),e.qZA(),e.TgZ(15,"ion-item")(16,"ion-avatar",0),e._UZ(17,"img",15),e.qZA(),e._UZ(18,"ion-input",16)(19,"ion-input",17),e.qZA(),e.YNc(20,ae,5,6,"ion-item",4),e.YNc(21,re,5,6,"ion-item",4),e.YNc(22,ce,7,1,"ion-item",4),e.TgZ(23,"ion-item-divider",11),e._uU(24,"Kontakt"),e.qZA(),e.TgZ(25,"ion-item")(26,"ion-avatar",0),e._UZ(27,"img",18),e.qZA(),e._UZ(28,"ion-input",19)(29,"ion-input",20),e.qZA()(),e.TgZ(30,"ion-button",21,22),e._UZ(32,"ion-icon",23),e._uU(33,"Speichern "),e.qZA()(),e.TgZ(34,"ion-list")(35,"ion-item-divider",11),e._uU(36),e.qZA(),e.YNc(37,ue,2,1,"ion-item",24),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("ngIf",0===n.regId),e.xp6(1),e.Q6J("ngIf",0===n.regId),e.xp6(9),e.Q6J("readonly",!1)("autofocus",!0)("disabled",!1)("ngModel",n.registration.vereinname),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",n.registration.verband),e.xp6(6),e.Q6J("readonly",!1)("disabled",!1)("ngModel",n.registration.respVorname),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",n.registration.respName),e.xp6(1),e.Q6J("ngIf",0===n.regId),e.xp6(1),e.Q6J("ngIf",n.regId>0),e.xp6(1),e.Q6J("ngIf",n.regId>0),e.xp6(6),e.Q6J("readonly",!1)("disabled",!1)("ngModel",n.registration.mail),e.xp6(1),e.Q6J("readonly",!1)("disabled",!1)("ngModel",n.registration.mobilephone),e.xp6(1),e.Q6J("disabled",n.waiting||!t.valid||t.untouched),e.xp6(6),e.hij("Pendente Verarbeitungen (",n.sSyncActions.length,")"),e.xp6(1),e.Q6J("ngForOf",n.sSyncActions)}}const de=[{path:"",component:(()=>{class i{constructor(t,n,o,s,r,u){this.navCtrl=t,this.route=n,this.backendService=o,this.alertCtrl=s,this.actionSheetController=r,this.zone=u,this.provider={getResults:d=>{const C=(d||"").trim(),b=[];return C&&this.clublist&&this.clublist.length>0&&this.clublist.forEach(v=>{this.filter(C)(v)&&b.push(v)}),b},getItemLabel:d=>d.name+" ("+d.verband+")"},this.waiting=!1,this.sSyncActions=[],this.clublist=[],this.backendService.competitions||this.backendService.getCompetitions(),this.backendService.getClubList().subscribe(d=>{this.clublist=d}),this.options=new g,this.options.autocomplete="on",this.options.autocorrect="off",this.options.noItems="Kein passender Vereinsname bekannt",this.options.placeholder="Vereinsname \xfcbernehmen ..."}vereinSelected(t){this.newRegistration.vereinname=t.name,this.newRegistration.verband=t.verband}ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.backendService.getCompetitions().subscribe(t=>{this.wettkampfId=parseInt(t.find(n=>n.uuid===this.wkId).id),this.regId?this.backendService.getClubRegistrations(this.wkId).subscribe(n=>{n&&n.length>0&&this.updateUI(n.find(o=>o.id===this.regId))}):this.updateUI({mobilephone:"+417"})})}filter(t){const n=t.toUpperCase().split(" ");return o=>"*"===t.trim()||n.filter(s=>{if(o.name.toUpperCase().indexOf(s)>-1||o.verband.toUpperCase().indexOf(s)>-1)return!0}).length===n.length}presentActionSheet(){return(0,w.mG)(this,void 0,void 0,function*(){let t={};t=this.registration.vereinId?{header:"Anmeldungen",cssClass:"my-actionsheet-class",buttons:[{text:"Athlet & Athletinnen",icon:"list",handler:()=>{this.editAthletRegistrations()}},{text:"Wertungsrichter",icon:"glasses",handler:()=>{this.editJudgeRegistrations()}},{text:"Kopieren aus anderem Wettkampf",icon:"share",handler:()=>{this.copyFromOthers()}},{text:"Registrierung l\xf6schen",role:"destructive",icon:"trash",handler:()=>{this.delete()}},{text:"Abbrechen",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]}:{header:"Anmeldungen",cssClass:"my-actionsheet-class",buttons:[{text:"Athlet & Athletinnen",icon:"list",handler:()=>{this.editAthletRegistrations()}},{text:"Wertungsrichter",icon:"glasses",handler:()=>{this.editJudgeRegistrations()}},{text:"Registrierung l\xf6schen",role:"destructive",icon:"trash",handler:()=>{this.delete()}},{text:"Abbrechen",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]},yield(yield this.actionSheetController.create(t)).present()})}editable(){return this.backendService.loggedIn}ionViewWillEnter(){this.getSyncActions()}getSyncActions(){this.regId>0&&this.backendService.loadRegistrationSyncActions().pipe((0,y.q)(1)).subscribe(t=>{this.sSyncActions=t.filter(n=>n.verein.id===this.registration.id).map(n=>n.caption)})}updateUI(t){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=t,0===this.regId?this.newRegistration=t:this.changePassword={id:this.regId,wettkampfId:t.wettkampfId||this.wettkampfId,secret:"",verification:""},this.registration.mail&&this.registration.mail.length>1&&(this.backendService.currentUserName=this.registration.mail)})}savePWChange(){this.changePassword&&this.changePassword.secret&&this.changePassword.secret===this.changePassword.verification&&this.backendService.saveClubRegistrationPW(this.wkId,this.changePassword)}save(t){if(0===this.regId){const n=t;n.secret!==n.verification?this.alertCtrl.create({header:"Achtung",subHeader:"Passwort-Verifikation",message:"Das Passwort stimmt nicht mit der Verifikation \xfcberein. Beide m\xfcssen genau gleich erfasst sein.",buttons:[{text:"OKAY",role:"cancel",handler:()=>{}}]}).then(s=>s.present()):this.backendService.createClubRegistration(this.wkId,{mail:n.mail,mobilephone:n.mobilephone,respName:n.respName,respVorname:n.respVorname,verband:n.verband,vereinname:n.vereinname,wettkampfId:n.wettkampfId||this.wettkampfId,secret:n.secret}).subscribe(s=>{this.regId=s.id,this.registration=s,this.backendService.currentUserName=s.mail,this.presentActionSheet()})}else this.backendService.saveClubRegistration(this.wkId,{id:this.registration.id,registrationTime:this.registration.registrationTime,vereinId:this.registration.vereinId,mail:t.mail,mobilephone:t.mobilephone,respName:t.respName,respVorname:t.respVorname,verband:t.verband,vereinname:t.vereinname,wettkampfId:t.wettkampfId||this.wettkampfId})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xf6schen der Vereins-Registrierung und dessen Anmeldungen am Wettkampf",message:"Hiermit wird die Vereinsanmeldung am Wettkampf komplett gel\xf6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteClubRegistration(this.wkId,this.regId).subscribe(()=>{this.navCtrl.pop()})}}]}).then(n=>n.present())}editAthletRegistrations(){this.navCtrl.navigateForward(`reg-athletlist/${this.backendService.competition}/${this.regId}`)}editJudgeRegistrations(){this.navCtrl.navigateForward(`reg-judgelist/${this.backendService.competition}/${this.regId}`)}copyFromOthers(){this.backendService.findCompetitionsByVerein(this.registration.vereinId).subscribe(t=>{const n=t.map(o=>({type:"radio",label:o.titel+" ("+(0,O.tC)(o.datum)+")",value:o}));this.alertCtrl.create({header:"Anmeldungen kopieren",cssClass:"my-optionselection-class",message:"Aus welchem Wettkampf sollen die Anmeldungen kopiert werden?",inputs:n,buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:o=>{this.backendService.copyClubRegsFromCompetition(o,this.backendService.competition,this.registration.id).subscribe(()=>{this.getSyncActions(),this.alertCtrl.create({header:"Anmeldungen kopieren",message:"Alle nicht bereits erfassten Anmeldungen wurden \xfcbernommen.",buttons:[{text:"OKAY",role:"cancel",handler:()=>{}},{text:"> Athlet-Anmeldungen",handler:()=>{this.editAthletRegistrations()}},{text:"> WR Anmeldungen",handler:()=>{this.editJudgeRegistrations()}}]}).then(s=>s.present())})}}]}).then(o=>o.present())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.SH),e.Y36(_.gz),e.Y36(ie.v),e.Y36(a.Br),e.Y36(a.BX),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clubreg-editor"]],decls:15,vars:3,consts:[["slot","start"],["defaultHref","/"],["slot","end"],[1,"athlet"],[4,"ngIf"],["size","large","expand","block","color","primary",3,"disabled","click"],["slot","start","name","list"],["color","primary",4,"ngIf"],["style","overflow: inherit;",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["clubRegistrationform","ngForm"],["color","primary"],["src","assets/imgs/verein.png"],["placeholder","Vereinsname","autocomplete","true","type","text","name","vereinname","required","",3,"readonly","autofocus","disabled","ngModel"],["placeholder","Verband","autocomplete","true","type","text","name","verband","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/chief.png"],["placeholder","Vorname","type","text","autocomplete","given-name","name","respVorname","required","",3,"readonly","disabled","ngModel"],["placeholder","Nachname","type","text","autocomplete","name","name","respName","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","autocomplete","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","autocomplete","on","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["btnSaveNext",""],["slot","start","name","save"],[4,"ngFor","ngForOf"],[2,"overflow","inherit"],[1,"suggester",3,"options","dataProvider","itemSelected"],["src","assets/imgs/password.png"],["placeholder","Passwort","type","password","name","secret","required","",3,"readonly","disabled","ngModel"],["placeholder","Passwort best\xe4tigen","type","password","name","verification","required","",3,"readonly","disabled","ngModel"],["placeholder","Passwort","type","password","name","secret",3,"readonly","disabled","ngModel","ngModelChange"],["placeholder","Passwort best\xe4tigen","type","password","name","verification",3,"readonly","disabled","ngModel","ngModelChange"],["size","small","color","danger",3,"disabled","click"],["btnChangePassword",""]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Vereins-Registrierung"),e.qZA(),e.TgZ(6,"ion-note",2)(7,"div",3),e._uU(8),e.qZA()()()(),e.YNc(9,pe,38,27,"ion-content",4),e.TgZ(10,"ion-footer")(11,"ion-toolbar")(12,"ion-button",5),e.NdJ("click",function(){return n.presentActionSheet()}),e._UZ(13,"ion-icon",6),e._uU(14,"Anmeldungen... "),e.qZA()()()),2&t&&(e.xp6(8),e.hij("f\xfcr ",n.wettkampf,""),e.xp6(1),e.Q6J("ngIf",n.registration),e.xp6(3),e.Q6J("disabled",n.waiting||0===n.regId))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,a.uN,m.O5,a.W2,a.rH,a.Ie,te,p._Y,p.JL,p.F,a.q_,a.BJ,a.pK,a.j9,p.Q7,p.JJ,p.On,a.YG,a.gu,p.c5,m.sg,a.fr],styles:[""]}),i})()}];let me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,p.u5,a.Pc,oe,_.Bz.forChild(de)]]}),i})()}}]);