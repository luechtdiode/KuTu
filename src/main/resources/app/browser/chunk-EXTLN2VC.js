import{B as n,Ba as B,Bb as ge,C as r,D as u,E as S,Ea as q,Fa as L,G as y,H as g,Ha as H,Ja as O,Ka as D,N as v,Na as K,O as l,Oa as G,Q as M,Qa as U,Ra as Y,Sa as Z,T as h,Ta as Q,U as _,Ua as X,V as f,Ya as $,Za as ee,ab as te,ca as R,fb as ie,ga as P,gb as ne,jb as re,kb as oe,lb as ae,m as b,ma as j,nb as le,o as m,p as c,qa as k,r as C,rb as de,sa as V,t as d,ta as J,u as p,ua as W,ub as se,v as E,va as N,w as I,wa as A,x as w,xa as T,ya as F,z as s,za as z}from"./chunk-KMY4ZES7.js";import"./chunk-6IQPZO6F.js";import"./chunk-JSAAGAZE.js";import"./chunk-5XVA5RR2.js";import"./chunk-LOHYXAXQ.js";import"./chunk-P5VFIEEE.js";import"./chunk-HC6MZPB3.js";import"./chunk-J5OMF6R4.js";import"./chunk-KWW2H4SN.js";import"./chunk-7HA5TF5T.js";import"./chunk-ZOBGMWXG.js";import"./chunk-426OJ4HC.js";import"./chunk-RPQZFOYD.js";import"./chunk-GIGBYVJT.js";import"./chunk-MM5QLNJM.js";import"./chunk-H3GX5QFY.js";import"./chunk-7D6K5XYM.js";import"./chunk-OBXDPQ3V.js";import"./chunk-G2DZN4YG.js";import"./chunk-MCRJI3T3.js";import"./chunk-TI7J2N3O.js";import"./chunk-TTFYQ64X.js";import"./chunk-2R6CW7ES.js";function he(o,pe){if(o&1){let i=S();n(0,"ion-content")(1,"form",9,0),y("ngSubmit",function(){m(i);let t=v(2),a=g();return c(a.save(t))})("keyup.enter",function(){m(i);let t=v(2),a=g();return c(a.save(t))}),n(3,"ion-list")(4,"ion-item-divider",10),l(5,"Wertungsrichter/-in"),r(),n(6,"ion-item")(7,"ion-avatar",3),u(8,"img",11),r(),n(9,"ion-label"),l(10,"Wertungsrichter / Wertungsrichterin"),r()(),n(11,"ion-item")(12,"ion-avatar",3),l(13," \xA0 "),r(),n(14,"ion-input",12),f("ngModelChange",function(t){m(i);let a=g();return _(a.registration.name,t)||(a.registration.name=t),c(t)}),r()(),n(15,"ion-item")(16,"ion-avatar",3),l(17," \xA0 "),r(),n(18,"ion-input",13),f("ngModelChange",function(t){m(i);let a=g();return _(a.registration.vorname,t)||(a.registration.vorname=t),c(t)}),r()(),n(19,"ion-item")(20,"ion-avatar",3),l(21," \xA0 "),r(),n(22,"ion-select",14),f("ngModelChange",function(t){m(i);let a=g();return _(a.registration.geschlecht,t)||(a.registration.geschlecht=t),c(t)}),n(23,"ion-select-option",15),l(24,"weiblich"),r(),n(25,"ion-select-option",15),l(26,"m\xE4nnlich"),r()()(),n(27,"ion-item-divider",10),l(28,"Kontakt"),r(),n(29,"ion-item")(30,"ion-avatar",3),u(31,"img",16),r(),u(32,"ion-input",17)(33,"ion-input",18),r(),n(34,"ion-item-divider")(35,"ion-avatar",3),u(36,"img",19),r(),n(37,"ion-label"),l(38,"Einteilung"),r()(),n(39,"ion-item")(40,"ion-avatar",3),l(41," \xA0 "),r(),n(42,"ion-label",10),l(43,"Kommentar"),r(),n(44,"ion-textarea",20),f("ngModelChange",function(t){m(i);let a=g();return _(a.registration.comment,t)||(a.registration.comment=t),c(t)}),r()()(),n(45,"ion-list")(46,"ion-button",21,1),u(48,"ion-icon",22),l(49,"Speichern"),r()()()()}if(o&2){let i=v(2),e=g();d(14),s("disabled",!1),h("ngModel",e.registration.name),d(4),s("disabled",!1),h("ngModel",e.registration.vorname),d(4),h("ngModel",e.registration.geschlecht),d(),s("value","W"),d(2),s("value","M"),d(7),s("readonly",!1)("disabled",!1)("ngModel",e.registration.mail),d(),s("readonly",!1)("disabled",!1)("ngModel",e.registration.mobilephone),d(11),s("disabled",!1),h("ngModel",e.registration.comment),d(2),s("disabled",e.waiting||!i.valid||i.untouched)}}function _e(o,pe){if(o&1){let i=S();n(0,"ion-button",23,2),y("click",function(){m(i);let t=g();return c(t.delete())}),u(2,"ion-icon",24),l(3,"Anmeldung l\xF6schen"),r()}if(o&2){let i=g();s("disabled",i.waiting)}}var ce=(()=>{class o{navCtrl;route;backendService;alertCtrl;zone;constructor(i,e,t,a,x){this.navCtrl=i,this.route=e,this.backendService=t,this.alertCtrl=a,this.zone=x}waiting=!1;registration;wettkampf;regId;judgeId;wkId;wkPgms;wettkampfId;_selectedClubJudgeId;ngOnInit(){this.waiting=!0,this.wkId=this.route.snapshot.paramMap.get("wkId"),this.regId=parseInt(this.route.snapshot.paramMap.get("regId")),this.judgeId=parseInt(this.route.snapshot.paramMap.get("judgeId")),this.backendService.getCompetitions().subscribe(i=>{let e=i.find(t=>t.uuid===this.wkId);this.wettkampfId=parseInt(e.id),this.backendService.loadProgramsForCompetition(e.uuid).subscribe(t=>{this.wkPgms=t,this.judgeId?this.backendService.loadJudgeRegistrations(this.wkId,this.regId).subscribe(a=>{this.updateUI(a.find(x=>x.id===this.judgeId))}):this.updateUI({id:0,vereinregistrationId:this.regId,name:"",vorname:"",mobilephone:"+417",mail:"",comment:"",registrationTime:0})})})}editable(){return this.backendService.loggedIn}updateUI(i){this.zone.run(()=>{this.waiting=!1,this.wettkampf=this.backendService.competitionName,this.registration=i})}save(i){if(!i.valid)return;let e=Object.assign({},this.registration,i.value);console.log(e),this.judgeId===0||e.id===0?this.backendService.createJudgeRegistration(this.wkId,this.regId,e).subscribe(()=>{this.navCtrl.pop()}):this.backendService.saveJudgeRegistration(this.wkId,this.regId,e).subscribe(()=>{this.navCtrl.pop()})}delete(){this.alertCtrl.create({header:"Achtung",subHeader:"L\xF6schen der Judge-Anmeldung am Wettkampf",message:"Hiermit wird die Anmeldung von "+this.registration.name+", "+this.registration.vorname+" am Wettkampf gel\xF6scht.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:()=>{}},{text:"OKAY",handler:()=>{this.backendService.deleteJudgeRegistration(this.wkId,this.regId,this.registration).subscribe(()=>{this.navCtrl.pop()})}}]}).then(e=>e.present())}static \u0275fac=function(e){return new(e||o)(p(B),p(j),p(ge),p(de),p(C))};static \u0275cmp=E({type:o,selectors:[["app-reg-judge-editor"]],standalone:!1,decls:14,vars:3,consts:[["judgeRegistrationForm","ngForm"],["btnSaveNext",""],["btnDelete",""],["slot","start"],["defaultHref","/"],["slot","end"],[1,"judge"],[4,"ngIf"],["size","large","expand","block","color","danger",3,"disabled","click",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["color","primary"],["src","assets/imgs/chief.png"],["label","Name","required","","placeholder","Name","type","text","name","name","required","",3,"ngModelChange","disabled","ngModel"],["label","Vorname","required","","placeholder","Vorname","type","text","name","vorname","required","",3,"ngModelChange","disabled","ngModel"],["label","Geschlecht","required","","placeholder","Geschlecht","name","geschlecht","okText","Okay","cancelText","Abbrechen","required","",3,"ngModelChange","ngModel"],[3,"value"],["src","assets/imgs/atmail.png"],["placeholder","Mail","type","email","pattern","^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,5})$","name","mail","required","",3,"readonly","disabled","ngModel"],["placeholder","Mobile/SMS (+4179...)","type","tel","pattern","[+]{1}[0-9]{11,14}","name","mobilephone","required","",3,"readonly","disabled","ngModel"],["src","assets/imgs/wettkampf.png"],["placeholder","Kommentar zur Einteilung als Wertungsrichter","name","comment",3,"ngModelChange","disabled","ngModel"],["size","large","expand","block","type","submit","color","success",3,"disabled"],["slot","start","name",""],["size","large","expand","block","color","danger",3,"click","disabled"],["slot","start","name","trash"]],template:function(e,t){e&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3),u(3,"ion-back-button",4),r(),n(4,"ion-title"),l(5,"Wertungsrichter-Anmeldung"),r(),n(6,"ion-note",5)(7,"div",6),l(8),r()()()(),w(9,he,50,16,"ion-content",7),n(10,"ion-footer")(11,"ion-toolbar")(12,"ion-list"),w(13,_e,4,1,"ion-button",8),r()()()),e&2&&(d(8),M("f\xFCr ",t.wettkampf,""),d(),s("ngIf",t.registration),d(4),s("ngIf",t.judgeId>0))},dependencies:[R,A,V,J,T,F,N,W,H,O,D,K,G,U,Y,Z,Q,X,$,ee,te,ie,ne,re,oe,ae,q,L,le],encapsulation:2})}return o})();var fe=[{path:"",component:ce}],ue=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=I({type:o});static \u0275inj=b({imports:[k.forChild(fe),k]})}return o})();var Je=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=I({type:o});static \u0275inj=b({imports:[P,z,se,ue]})}return o})();export{Je as RegJudgeEditorPageModule};
