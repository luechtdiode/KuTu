(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return C}));var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),a=n("cygB"),b=n("Gyf/"),s=n("lJxs"),g=n("fXoL");function u(e,t){if(1&e&&(g.Kb(0,"ion-label"),g.kc(1),g.Jb()),2&e){var n=g.Ub(2);g.xb(1),g.nc(" ",n.durchgang,", ",n.geraetName()," ")}}function l(e,t){if(1&e&&(g.Kb(0,"ion-note",15),g.kc(1),g.Jb()),2&e){var n=g.Ub(2);g.xb(1),g.mc(" ","Riege "+n.step," ")}}function p(e,t){1&e&&g.Ib(0,"ion-icon",16)}function d(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-item"),g.Kb(2,"ion-label"),g.kc(3),g.Jb(),g.Jb(),g.Kb(4,"ion-item"),g.jc(5,u,2,2,"ion-label",4),g.Jb(),g.Kb(6,"ion-item-sliding",null,6),g.Kb(8,"ion-item",7),g.Sb("click",(function(){g.ec(n);var e=g.dc(7);return g.Ub().itemTapped(e)})),g.Kb(9,"ion-label"),g.kc(10),g.Jb(),g.jc(11,l,2,1,"ion-note",8),g.jc(12,p,1,0,"ion-icon",9),g.Jb(),g.Kb(13,"ion-item-options",10),g.Kb(14,"ion-item-option",11),g.Sb("click",(function(){g.ec(n);var e=g.dc(7);return g.Ub().prevStep(e)})),g.Ib(15,"ion-icon",12),g.kc(16," Vorherige Riege "),g.Jb(),g.Jb(),g.Kb(17,"ion-item-options",13),g.Kb(18,"ion-item-option",11),g.Sb("click",(function(){g.ec(n);var e=g.dc(7);return g.Ub().nextStep(e)})),g.Ib(19,"ion-icon",14),g.kc(20," N\xe4chste Riege "),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var i=g.Ub();g.xb(3),g.lc(i.competitionName()),g.xb(2),g.ac("ngIf",i.durchgang&&i.geraet),g.xb(5),g.lc(i.geraet&&i.getSteps()?"Riege ("+i.getSteps()[0]+" bis "+i.getSteps()[i.getSteps().length-1]+")":"Keine Daten"),g.xb(1),g.ac("ngIf",i.geraet&&i.getSteps()&&i.getSteps().length>0),g.xb(1),g.ac("ngIf",i.geraet&&i.getSteps()),g.xb(2),g.ac("disabled",!i.geraet||!i.getSteps()),g.xb(4),g.ac("disabled",!i.geraet||!i.getSteps())}}function f(e,t){if(1&e&&(g.Kb(0,"ion-select-option",20),g.kc(1),g.Vb(2,"date"),g.Jb()),2&e){var n=t.$implicit;g.ac("value",n.uuid),g.xb(1),g.mc(" ",n.titel+" "+g.Xb(2,2,n.datum,"dd-MM-yy"),"")}}function h(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-select",18),g.Sb("ngModelChange",(function(e){return g.ec(n),g.Ub(2).competition=e})),g.jc(1,f,3,5,"ion-select-option",19),g.Jb()}if(2&e){var i=g.Ub(2);g.ac("ngModel",i.competition),g.xb(1),g.ac("ngForOf",i.getCompetitions())}}function m(e,t){if(1&e&&(g.Kb(0,"ion-select-option",20),g.kc(1),g.Jb()),2&e){var n=t.$implicit;g.ac("value",n),g.xb(1),g.lc(n)}}function k(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-select",18),g.Sb("ngModelChange",(function(e){return g.ec(n),g.Ub(2).durchgang=e})),g.jc(1,m,2,2,"ion-select-option",19),g.Jb()}if(2&e){var i=g.Ub(2);g.ac("ngModel",i.durchgang),g.xb(1),g.ac("ngForOf",i.getDurchgaenge())}}function v(e,t){if(1&e&&(g.Kb(0,"ion-select-option",20),g.kc(1),g.Jb()),2&e){var n=t.$implicit;g.ac("value",n.id),g.xb(1),g.lc(n.name)}}function S(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-select",18),g.Sb("ngModelChange",(function(e){return g.ec(n),g.Ub(2).geraet=e})),g.jc(1,v,2,2,"ion-select-option",19),g.Jb()}if(2&e){var i=g.Ub(2);g.ac("ngModel",i.geraet),g.xb(1),g.ac("ngForOf",i.getGeraete())}}function K(e,t){if(1&e&&(g.Kb(0,"ion-note",15),g.kc(1),g.Jb()),2&e){var n=g.Ub(2);g.xb(1),g.mc(" ","Riege "+n.step," ")}}function J(e,t){1&e&&g.Ib(0,"ion-icon",16)}function x(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-item"),g.Kb(2,"ion-label"),g.kc(3,"Wettkampf"),g.Jb(),g.jc(4,h,2,2,"ion-select",17),g.Jb(),g.Kb(5,"ion-item"),g.Kb(6,"ion-label"),g.kc(7,"Durchgang"),g.Jb(),g.jc(8,k,2,2,"ion-select",17),g.Jb(),g.Kb(9,"ion-item"),g.Kb(10,"ion-label"),g.kc(11,"Ger\xe4t"),g.Jb(),g.jc(12,S,2,2,"ion-select",17),g.Jb(),g.Kb(13,"ion-item-sliding",null,6),g.Kb(15,"ion-item",7),g.Sb("click",(function(){g.ec(n);var e=g.dc(14);return g.Ub().itemTapped(e)})),g.Kb(16,"ion-label"),g.kc(17),g.Jb(),g.jc(18,K,2,1,"ion-note",8),g.jc(19,J,1,0,"ion-icon",9),g.Jb(),g.Kb(20,"ion-item-options",10),g.Kb(21,"ion-item-option",11),g.Sb("click",(function(){g.ec(n);var e=g.dc(14);return g.Ub().prevStep(e)})),g.Ib(22,"ion-icon",12),g.kc(23," Vorherige Riege "),g.Jb(),g.Jb(),g.Kb(24,"ion-item-options",13),g.Kb(25,"ion-item-option",11),g.Sb("click",(function(){g.ec(n);var e=g.dc(14);return g.Ub().nextStep(e)})),g.Ib(26,"ion-icon",14),g.kc(27," N\xe4chste Riege "),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var i=g.Ub();g.xb(4),g.ac("ngIf",i.getCompetitions()),g.xb(4),g.ac("ngIf",i.competition&&i.getDurchgaenge()&&i.getDurchgaenge().length>0),g.xb(4),g.ac("ngIf",i.durchgang&&i.getGeraete()&&i.getGeraete().length>0),g.xb(5),g.lc(i.geraet&&i.getSteps()?"Riege ("+i.getSteps()[0]+" bis "+i.getSteps()[i.getSteps().length-1]+")":"Keine Daten"),g.xb(1),g.ac("ngIf",i.geraet&&i.getSteps()&&i.getSteps().length>0),g.xb(1),g.ac("ngIf",i.geraet&&i.getSteps()),g.xb(2),g.ac("disabled",!i.geraet||!i.getSteps()),g.xb(4),g.ac("disabled",!i.geraet||!i.getSteps())}}function y(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-button",21),g.Sb("click",(function(){return g.ec(n),g.Ub().navToStation()})),g.Ib(1,"ion-icon",22),g.kc(2," Resultate "),g.Jb()}if(2&e){var i=g.Ub();g.ac("disabled",!(i.geraet&&i.getSteps()))}}function I(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-button",21),g.Sb("click",(function(){return g.ec(n),g.Ub().navToStation()})),g.Ib(1,"ion-icon",23),g.kc(2," Resultate "),g.Jb()}if(2&e){var i=g.Ub();g.ac("disabled",!(i.geraet&&i.getSteps()))}}function j(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-button",24),g.Sb("click",(function(){return g.ec(n),g.Ub().unlock()})),g.Ib(2,"ion-icon",25),g.kc(3,"Einstellung zur\xfccksetzen "),g.Jb(),g.Jb()}}function w(e,t){if(1&e){var n=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-button",26),g.Sb("click",(function(){return g.ec(n),g.Ub().logout()})),g.Ib(2,"ion-icon",27),g.kc(3,"Abmelden "),g.Jb(),g.Jb()}}var U=function(){function e(e,t,n){var i=this;this.navCtrl=e,this.backendService=t,this.alertCtrl=n,this.durchgangopen=!1,this.backendService.getCompetitions(),this.backendService.durchgangStarted.pipe(Object(s.a)((function(e){return e.filter((function(e){return Object(b.c)(e.durchgang)===Object(b.c)(i.backendService.durchgang)&&e.wettkampfUUID===i.backendService.competition})).length>0}))).subscribe((function(e){i.durchgangstate=e?"gestartet":"gesperrt",i.durchgangopen=e}))}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.backendService.stationFreezed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenAndActive",{get:function(){return this.durchgangopen&&this.backendService.isWebsocketConnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return this.backendService.loggedIn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"competition",{get:function(){return this.backendService.competition||""},set:function(e){this.isLocked||this.backendService.getDurchgaenge(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durchgang",{get:function(){return this.backendService.durchgang||""},set:function(e){this.isLocked||this.backendService.getGeraete(this.competition,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geraet",{get:function(){return this.backendService.geraet||-1},set:function(e){this.isLocked||this.backendService.getSteps(this.competition,this.durchgang,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.backendService.step||-1},set:function(e){this.backendService.getWertungen(this.competition,this.durchgang,this.geraet,e)},enumerable:!1,configurable:!0}),e.prototype.itemTapped=function(e){e.getOpenAmount().then((function(t){t>10||t<-10?e.close():e.open("end")}))},e.prototype.nextStep=function(e){this.step=this.backendService.nextStep(),e.close()},e.prototype.prevStep=function(e){this.step=this.backendService.prevStep(),e.close()},e.prototype.getCompetitions=function(){return this.backendService.competitions},e.prototype.competitionName=function(){var e=this;if(!this.backendService.competitions)return"";var t=this.backendService.competitions.filter((function(t){return t.uuid===e.backendService.competition})).map((function(e){return e.titel+", am "+(e.datum+"T").split("T")[0].split("-").reverse().join("-")}));return 1===t.length?t[0]:""},e.prototype.geraetName=function(){var e=this;if(!this.backendService.geraete)return"";var t=this.backendService.geraete.filter((function(t){return t.id===e.backendService.geraet})).map((function(e){return e.name}));return 1===t.length?t[0]:""},e.prototype.getDurchgaenge=function(){return this.backendService.durchgaenge},e.prototype.getGeraete=function(){return this.backendService.geraete},e.prototype.getSteps=function(){return!this.backendService.steps&&this.backendService.geraet&&this.backendService.getSteps(this.competition,this.durchgang,this.geraet),this.backendService.steps},e.prototype.navToStation=function(){this.navCtrl.navigateForward("station")},e.prototype.unlock=function(){var e=this,t=this.competitionName()+"/"+this.durchgang+"/"+this.geraetName();this.alertCtrl.create({header:"Info",message:'Die Fixierung auf die Station "'+t+'" wird aufgehoben.<br>Du kannst dann die Station frei einstellen.',buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){e.backendService.unlock()}}]}).then((function(e){return e.present()}))},e.prototype.logout=function(){var e=this;this.alertCtrl.create({header:"Achtung",subHeader:"Nach dem Abmelden k\xf6nnen keine weiteren Resultate mehr erfasst werden.",message:"F\xfcr die Erfassung weiterer Resultate wird eine Neuanmeldung erforderlich.",buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){e.backendService.logout()}}]}).then((function(e){return e.present()}))},e.prototype.finish=function(){var e=this,t=this.geraetName()+"/Riege #"+this.step,n=this.alertCtrl.create({header:"Achtung",message:'Nach dem Abschliessen der Station "'+t+'" k\xf6nnen die erfassten Wertungen nur noch im Wettkampf-B\xfcro korrigiert werden.',buttons:[{text:"ABBRECHEN",role:"cancel",handler:function(){}},{text:"OKAY",handler:function(){var t=n.then((function(e){return e.dismiss()}));return e.backendService.finishStation(e.competition,e.durchgang,e.geraet,e.step).subscribe((function(n){0===n.length&&t.then((function(){e.navCtrl.pop()}))})),!1}}]});n.then((function(e){return e.present()}))},e.\u0275fac=function(t){return new(t||e)(g.Hb(c.L),g.Hb(a.a),g.Hb(c.a))},e.\u0275cmp=g.Bb({type:e,selectors:[["app-page-home"]],decls:18,vars:8,consts:[[3,"translucent"],["slot","start"],["slot","icon-only","name","menu"],[3,"fullscreen"],[4,"ngIf"],["size","large","expand","block","color","primary",3,"disabled","click",4,"ngIf"],["slidingStepItem",""],[3,"click"],["slot","end",4,"ngIf"],["slot","end","name","arrow-dropright",4,"ngIf"],["side","start"],["color","secondary",3,"disabled","click"],["name","arrow-dropleft-circle","ios","md-arrow-dropleft-circle"],["side","end"],["name","arrow-dropright-circle","ios","md-arrow-dropright-circle"],["slot","end"],["slot","end","name","arrow-dropright"],["placeholder","Bitte ausw\xe4hlen","okText","Okay","cancelText","Abbrechen",3,"ngModel","ngModelChange",4,"ngIf"],["placeholder","Bitte ausw\xe4hlen","okText","Okay","cancelText","Abbrechen",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","large","expand","block","color","primary",3,"disabled","click"],["slot","start","name","list"],["slot","start","name","create"],["size","large","expand","block","color","warning",3,"click"],["slot","start","name","unlock"],["size","large","expand","block","color","danger",3,"click"],["slot","start","name","log-out"]],template:function(e,t){1&e&&(g.Kb(0,"ion-header",0),g.Kb(1,"ion-toolbar"),g.Kb(2,"ion-buttons",1),g.Kb(3,"ion-menu-toggle"),g.Kb(4,"ion-button"),g.Ib(5,"ion-icon",2),g.Jb(),g.Jb(),g.Jb(),g.Kb(6,"ion-title"),g.kc(7,"Wettkampf App"),g.Jb(),g.Jb(),g.Jb(),g.Kb(8,"ion-content",3),g.jc(9,d,21,7,"ion-list",4),g.jc(10,x,28,8,"ion-list",4),g.Kb(11,"ion-list"),g.jc(12,y,3,1,"ion-button",5),g.jc(13,I,3,1,"ion-button",5),g.Jb(),g.Jb(),g.Kb(14,"ion-footer"),g.Kb(15,"ion-toolbar"),g.jc(16,j,4,0,"ion-list",4),g.jc(17,w,4,0,"ion-list",4),g.Jb(),g.Jb()),2&e&&(g.ac("translucent",!0),g.xb(8),g.ac("fullscreen",!0),g.xb(1),g.ac("ngIf",t.isLocked),g.xb(1),g.ac("ngIf",!t.isLocked),g.xb(2),g.ac("ngIf",!t.isLoggedIn),g.xb(1),g.ac("ngIf",t.isLoggedIn),g.xb(3),g.ac("ngIf",t.isLocked),g.xb(1),g.ac("ngIf",t.isLoggedIn))},directives:[c.m,c.H,c.g,c.x,c.f,c.n,c.G,c.j,i.m,c.v,c.k,c.p,c.u,c.t,c.s,c.r,c.y,c.C,c.O,o.d,o.g,i.l,c.D],pipes:[i.e],encapsulation:2}),e}(),C=function(){function e(){}return e.\u0275mod=g.Fb({type:e}),e.\u0275inj=g.Eb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,o.a,c.I,r.i.forChild([{path:"",component:U}])]]}),e}()}}]);