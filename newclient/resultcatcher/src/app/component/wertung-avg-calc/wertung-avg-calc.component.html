<ion-item [hidden]="hidden()">
<!--ion-label *ngIf="singleValues.length < 2">{{title}}&nbsp;</ion-label-->
@if (singleValues.length < 2) {
  <ion-input [label]="title" #noteInput autofocus placeholder="Notenwert im Format ##.## (2-3 Nachkommastellen mit Dezimalpunkt)"
    name="noteInput" type="number"  [disabled]="waiting() || disabled"
    [(ngModel)]='singleValueContainer'
    step="0.05" min="0.00" max="100.00" required />
}
@if (singleValues.length < 2) {
  <ion-button [disabled]="waiting() || disabled" slot="end" expand="block" color="secondary" (click)='add()'>
  <ion-icon name="add-circle-outline" /></ion-button>
}
@if (singleValues.length < 2) {
  <ion-button [disabled]="waiting() || disabled" color="danger" (click)='remove(0)'>
  <ion-icon name="trash-outline" /></ion-button>
}
@if (singleValues.length > 1) {
  <ion-grid class="table" no-padding>
    <ion-row >
      <ion-col class="table-header" size-xs="12" size-md="4">{{title}} {{methodSymbol}} {{avgValue}}</ion-col>
      <ion-col class="table-action" size-xs="12" size-md="4">
        <ion-radio-group [(ngModel)]="compMethod">
          <ion-item>
            <ion-radio value="avg" labelPlacement="start" alignment="center">Durchschnitt</ion-radio>
          </ion-item>
          <ion-item>
            <ion-radio value="sum" labelPlacement="start" alignment="center">Summe</ion-radio>
          </ion-item>
        </ion-radio-group>
      </ion-col>
      <ion-col class="number" size-xs="12" size-md="4" no-padding>
        <ion-item lines="full">
          <ion-button slot="start" class="table-action" [disabled]="waiting() || disabled || fixed <= 0" color="secondary" (click)='removeKomma()'>
            <ion-icon name="remove-outline" />
          </ion-button>
          <div class="decimals">Kommastellen: {{fixed}}</div>
          <ion-button slot="end" class="table-action" [disabled]="waiting() || disabled || fixed >= 3" color="secondary" (click)='addKomma()'>
            <ion-icon name="add-outline" />
          </ion-button>
        </ion-item>
      </ion-col>
    </ion-row>
    @for (item of singleValues; track item; let i = $index) {
      <ion-row class="table-row">
        <ion-col class="number">{{i+1}}. Wertung</ion-col>
        <ion-col id="input-group" no-padding>
          <div id="validity"></div>
          @if (i === 0) {
            <ion-input #noteInput placeholder="Notenwert im Format ##.## (2-3 Nachkommastellen mit Dezimalpunkt)"
              type="number" name={{valueTitle()}}{{i}}
              step="0.05" min="0.00" max="100.00"
              required
              [disabled]="waiting() || disabled"
              [ngModel]="item.value"
              (ionChange)="onItemChange($event, item)"
              (input)="onItemChange($event, item)"
              (ionBlur)="onBlur($event, item)" />
          }
          @if (i>0) {
            <ion-input placeholder="Notenwert im Format ##.## (2-3 Nachkommastellen mit Dezimalpunkt)"
              type="number" name={{valueTitle()}}{{i}}
              step="0.05" min="0.00" max="100.00"
              required
              [disabled]="waiting() || disabled"
              [ngModel]="item.value"
              (ionChange)="onItemChange($event, item)"
              (input)="onItemChange($event, item)"
              (ionBlur)="onBlur($event, item)" />
          }
        </ion-col>
        <ion-col class="table-action"><ion-button [disabled]="waiting() || disabled" color="danger" (click)='remove(i)'>
        <ion-icon name="trash-outline" /></ion-button></ion-col>
      </ion-row>
    }
    @if (!disabled) {
      <ion-row class="table-header">
        <ion-col><ion-button [disabled]="waiting() || disabled" expand="block" color="secondary" (click)='add()'>
        <ion-icon name="add-circle-outline" />Weitere Wertung hinzuf√ºgen</ion-button></ion-col>
      </ion-row>
    }
  </ion-grid>
}
</ion-item>
